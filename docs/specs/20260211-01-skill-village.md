# æŠ€èƒ½æ‘éŠæˆ²åŒ–å­¸ç¿’ç³»çµ± - ç”¢å“è¦æ ¼æ–‡ä»¶

**ç‰ˆæœ¬**: 1.0
**æ—¥æœŸ**: 2026-02-11
**æ’°å¯«**: Product Manager
**ç‹€æ…‹**: Draft

---

## 1. å°ˆæ¡ˆæ¦‚è¿°

### 1.1 å°ˆæ¡ˆèƒŒæ™¯

Mido Learning å¹³å°ç›®å‰æä¾›å­¸ç¿’è³‡æºç®¡ç†åŠŸèƒ½ï¼Œä½†ç¼ºä¹å­¸ç¿’å‹•æ©Ÿçš„æŒçºŒæ€§æ©Ÿåˆ¶ã€‚ç‚ºäº†æå‡ä½¿ç”¨è€…çš„å­¸ç¿’æ„é¡˜èˆ‡é»è‘—åº¦ï¼Œæˆ‘å€‘æ±ºå®šå¼•å…¥ã€ŒæŠ€èƒ½æ‘ã€éŠæˆ²åŒ–å­¸ç¿’ç³»çµ±ï¼Œé€éè§’è‰²æ‰®æ¼”ã€ç¶“é©—å€¼ã€ç­‰ç´šã€è™›æ“¬è²¨å¹£ç­‰æ©Ÿåˆ¶ï¼Œè®“å­¸ç¿’éç¨‹æ›´æœ‰è¶£ä¸”å…·æœ‰æˆå°±æ„Ÿã€‚

### 1.2 ç›®æ¨™ä½¿ç”¨è€…

- **ä¸»è¦ä½¿ç”¨è€…**: å°ä¸€ï¼ˆ7 æ­²ï¼‰åˆ°é«˜ä¸­ï¼ˆ18 æ­²ï¼‰å­¸ç”Ÿ
- **æ¬¡è¦ä½¿ç”¨è€…**: å®¶é•·ï¼ˆç®¡ç†å­å¥³å­¸ç¿’é€²åº¦ï¼‰
- **ä½¿ç”¨é€±æœŸ**: 11 å¹´ï¼ˆå°ä¸€åˆ°é«˜ä¸­ç•¢æ¥­ï¼‰

### 1.3 æ ¸å¿ƒåƒ¹å€¼

1. **æŒçºŒå‹•æ©Ÿ**: é€éç­‰ç´šèˆ‡çå‹µæ©Ÿåˆ¶ï¼Œè®“å­¸ç”Ÿé¡˜æ„é•·æœŸæŠ•å…¥å­¸ç¿’
2. **æˆå°±æ„Ÿ**: æ¸…æ™°çš„é€²åº¦è¦–è¦ºåŒ–ï¼Œè®“å­¸ç¿’æˆæœå¯è¦‹
3. **å€‹æ€§åŒ–**: æ¯å€‹è§’è‰²å¯è‡ªè¨‚åç¨±èˆ‡è™›æ“¬è²¨å¹£ï¼Œå¢åŠ æ­¸å±¬æ„Ÿ
4. **æ“´å±•æ€§**: æ¨™æº–åŒ–çš„è¦å‰‡å¼•æ“ï¼Œæœªä¾†å¯å¿«é€Ÿæ–°å¢æ–°æŠ€èƒ½éŠæˆ²

### 1.4 å°ˆæ¡ˆç¯„åœ

**Phase 1 ç¯„åœï¼ˆæœ¬è¦æ ¼ï¼‰**:
- è§’è‰²è¨»å†Šèˆ‡ç™»å…¥ç³»çµ±
- æŠ€èƒ½æ‘é¦–é 
- ç­‰ç´šèˆ‡ç¶“é©—ç³»çµ±ï¼ˆLv 1-1000ï¼‰
- è™›æ“¬è²¨å¹£èˆ‡çå‹µç³»çµ±
- ç¬¬ä¸€å€‹æŠ€èƒ½éŠæˆ²ï¼šè‹±æ‰“ç·´ç¿’
- è§’è‰²å°å¾Œå°
- ç®¡ç†å“¡å¾Œå°

**Phase 2 æœªä¾†è¦åŠƒ**:
- æ›´å¤šæŠ€èƒ½éŠæˆ²ï¼ˆæ•¸å­¸é‹ç®—ã€è¨˜æ†¶éŠæˆ²ç­‰ï¼‰
- æˆå°±ç³»çµ±èˆ‡å¾½ç« 
- æ’è¡Œæ¦œèˆ‡ç¤¾äº¤åŠŸèƒ½
- å®¶é•·ç›£æ§å„€è¡¨æ¿

---

## 2. ä½¿ç”¨è€…æ•…äº‹èˆ‡é©—æ”¶æ¢ä»¶

### 2.1 è¨ªå®¢ä½¿ç”¨è€…

#### US-001: è¨ªå®¢é«”é©—æŠ€èƒ½æ‘

**æ•…äº‹**: ä½œç‚ºè¨ªå®¢ï¼Œæˆ‘æƒ³è¦ä¸è¨»å†Šå°±èƒ½é«”é©—æŠ€èƒ½æ‘ï¼Œä»¥ä¾¿æ±ºå®šæ˜¯å¦è¨»å†Šã€‚

**é©—æ”¶æ¢ä»¶**:
- [ ] è¨ªå®¢å¯ä»¥å»ºç«‹è‡¨æ™‚è§’è‰²ï¼ˆåƒ…éœ€è¼¸å…¥è§’è‰²åç¨±ï¼‰
- [ ] è¨ªå®¢å¯ä»¥ç€è¦½æŠ€èƒ½æ‘é¦–é 
- [ ] è¨ªå®¢å¯ä»¥éŠç©è‹±æ‰“ç·´ç¿’éŠæˆ²
- [ ] è¨ªå®¢çš„é€²åº¦å„²å­˜åœ¨ localStorageï¼Œ7 å¤©å¾Œè‡ªå‹•æ¸…é™¤
- [ ] è¨ªå®¢ç„¡æ³•ç²å¾—çå‹µï¼ˆè™›æ“¬è²¨å¹£ï¼‰
- [ ] è¨ªå®¢çœ‹åˆ°è¨»å†Šæç¤ºï¼šã€Œè¨»å†Šå¾Œå¯ç²å¾—çå‹µä¸¦æ°¸ä¹…ä¿å­˜é€²åº¦ã€

#### US-002: è¨ªå®¢åŒ¯å…¥é€²åº¦

**æ•…äº‹**: ä½œç‚ºè¨ªå®¢ï¼Œæˆ‘åœ¨é«”é©—å¾Œæƒ³è¦è¨»å†Šä¸¦ä¿ç•™å·²æœ‰çš„é€²åº¦ã€‚

**é©—æ”¶æ¢ä»¶**:
- [ ] è¨ªå®¢è¨»å†Šå¾Œï¼Œç³»çµ±æç¤ºã€Œç™¼ç¾æ‚¨æœ‰è¨ªå®¢é€²åº¦ï¼Œæ˜¯å¦åŒ¯å…¥ï¼Ÿã€
- [ ] é¸æ“‡åŒ¯å…¥å¾Œï¼Œè¨ªå®¢çš„ç­‰ç´šã€ç¶“é©—å€¼ã€éŠæˆ²è¨˜éŒ„è½‰ç§»åˆ°æ–°è§’è‰²
- [ ] åŒ¯å…¥æˆåŠŸå¾Œï¼ŒlocalStorage ä¸­çš„è¨ªå®¢è³‡æ–™æ¸…é™¤

---

### 2.2 è¨»å†Šä½¿ç”¨è€…

#### US-003: éŠæˆ²è¨»å†Š

**æ•…äº‹**: ä½œç‚ºå°å­¸ç”Ÿï¼Œæˆ‘æƒ³è¦å¿«é€Ÿè¨»å†Šï¼Œä¸éœ€è¦ emailï¼Œåªéœ€è¦ä½¿ç”¨è€…åç¨±å’Œç°¡å–®å¯†ç¢¼ã€‚

**é©—æ”¶æ¢ä»¶**:
- [ ] è¨»å†Šè¡¨å–®åŒ…å«ï¼šä½¿ç”¨è€…åç¨±ã€å¯†ç¢¼ã€å¯†ç¢¼ç¢ºèª
- [ ] ä½¿ç”¨è€…åç¨±é•·åº¦ 4-16 å­—å…ƒï¼Œåƒ…å…è¨±è‹±æ–‡ã€æ•¸å­—ã€åº•ç·š
- [ ] å¯†ç¢¼é•·åº¦ 4-8 å­—å…ƒï¼Œå¯åŒ…å«è‹±æ–‡ã€æ•¸å­—
- [ ] ä½¿ç”¨è€…åç¨±å¿…é ˆå”¯ä¸€ï¼Œé‡è¤‡æ™‚é¡¯ç¤ºéŒ¯èª¤
- [ ] è¨»å†ŠæˆåŠŸå¾Œè‡ªå‹•ç™»å…¥
- [ ] å–®ä¸€ IP æ¯æ—¥æœ€å¤šè¨»å†Š 3 å€‹è§’è‰²ï¼Œè¶…éæ™‚é¡¯ç¤ºã€Œä»Šæ—¥è¨»å†Šæ¬¡æ•¸å·²é”ä¸Šé™ã€

#### US-004: å®Œæ•´è¨»å†Š

**æ•…äº‹**: ä½œç‚ºå®¶é•·ï¼Œæˆ‘æƒ³è¦ç”¨ email è¨»å†Šï¼Œä»¥ä¾¿ç®¡ç†å¤šå€‹å­å¥³çš„è§’è‰²ã€‚

**é©—æ”¶æ¢ä»¶**:
- [ ] è¨»å†Šè¡¨å–®åŒ…å«ï¼šEmailã€å¯†ç¢¼ã€å¯†ç¢¼ç¢ºèª
- [ ] Email æ ¼å¼é©—è­‰
- [ ] å¯†ç¢¼é•·åº¦è‡³å°‘ 8 å­—å…ƒ
- [ ] æ”¯æ´ Google OAuth ç™»å…¥
- [ ] ä¸€å€‹ email å¸³è™Ÿå¯ä»¥å»ºç«‹å¤šå€‹è§’è‰²ï¼ˆæœ€å¤š 5 å€‹ï¼‰

#### US-005: å»ºç«‹è§’è‰²

**æ•…äº‹**: ä½œç‚ºè¨»å†Šä½¿ç”¨è€…ï¼Œæˆ‘æƒ³è¦å»ºç«‹å¤šå€‹è§’è‰²ï¼ˆå¦‚ç±³è±†ã€æ¯›è±†ï¼‰ï¼Œè®“æ¯å€‹å­å¥³æœ‰ç¨ç«‹çš„å­¸ç¿’é€²åº¦ã€‚

**é©—æ”¶æ¢ä»¶**:
- [ ] å»ºç«‹è§’è‰²è¡¨å–®ï¼šè§’è‰²åç¨±ã€è™›æ“¬è²¨å¹£åç¨±ï¼ˆå¯é¸ï¼Œé è¨­ã€Œç±³è±†å¹£ã€ï¼‰
- [ ] è§’è‰²åç¨±é•·åº¦ 2-12 å­—å…ƒ
- [ ] è™›æ“¬è²¨å¹£åç¨±é•·åº¦ 2-8 å­—å…ƒ
- [ ] æ¯å€‹å¸³è™Ÿæœ€å¤š 5 å€‹è§’è‰²
- [ ] è§’è‰²æ¸…å–®é¡¯ç¤ºæ‰€æœ‰è§’è‰²çš„ç­‰ç´šèˆ‡ç¶“é©—å€¼

#### US-006: ç€è¦½æŠ€èƒ½æ‘

**æ•…äº‹**: ä½œç‚ºè¨»å†Šä½¿ç”¨è€…ï¼Œæˆ‘æƒ³è¦çœ‹åˆ°æ‰€æœ‰å¯ç”¨çš„æŠ€èƒ½éŠæˆ²èˆ‡æˆ‘çš„é€²åº¦ã€‚

**é©—æ”¶æ¢ä»¶**:
- [ ] æŠ€èƒ½æ‘é¦–é é¡¯ç¤ºï¼šè§’è‰²è³‡è¨Šã€ç­‰ç´šã€ç¶“é©—å€¼é€²åº¦æ¢ã€è™›æ“¬è²¨å¹£é¤˜é¡
- [ ] æŠ€èƒ½å¡ç‰‡åˆ—è¡¨ï¼Œæ¯å¼µå¡ç‰‡é¡¯ç¤ºï¼š
  - æŠ€èƒ½åç¨±èˆ‡åœ–ç¤º
  - æŠ€èƒ½ç­‰ç´š
  - æŠ€èƒ½ç¶“é©—å€¼é€²åº¦æ¢
  - æœ€ä½³æˆç¸¾ï¼ˆå¦‚è‹±æ‰“é€Ÿåº¦ï¼‰
  - ã€Œé–‹å§‹ç·´ç¿’ã€æŒ‰éˆ•
- [ ] å·²è§£é–çš„æŠ€èƒ½å¯ç›´æ¥é»é¸
- [ ] æœªè§£é–çš„æŠ€èƒ½é¡¯ç¤ºã€ŒLv X è§£é–ã€

#### US-007: éŠç©è‹±æ‰“ç·´ç¿’

**æ•…äº‹**: ä½œç‚ºä½¿ç”¨è€…ï¼Œæˆ‘æƒ³è¦é€éè‹±æ‰“ç·´ç¿’æå‡æ‰“å­—é€Ÿåº¦ä¸¦ç²å¾—ç¶“é©—å€¼ã€‚

**é©—æ”¶æ¢ä»¶**:
- [ ] é¸æ“‡é›£åº¦ï¼šåˆç´šï¼ˆLv 1+ï¼‰ã€ä¸­ç´šï¼ˆLv 5+ï¼‰ã€é«˜ç´šï¼ˆLv 10+ï¼‰
- [ ] éŠæˆ²ä»‹é¢ï¼š
  - é¡¯ç¤ºç›®æ¨™å–®å­—/å¥å­
  - è¼¸å…¥æ¡†ï¼ˆè‡ªå‹• focusï¼‰
  - è¨ˆæ™‚å™¨ï¼ˆé¡¯ç¤ºå‰©é¤˜æ™‚é–“ï¼‰
  - æ­£ç¢ºç‡å³æ™‚é¡¯ç¤º
- [ ] éŠæˆ²çµæŸå¾Œé¡¯ç¤ºï¼š
  - æ­£ç¢ºç‡ã€é€Ÿåº¦ï¼ˆWPMï¼‰
  - ç²å¾—ç¶“é©—å€¼
  - æ˜¯å¦å‡ç´š
  - ç²å¾—çå‹µï¼ˆå¦‚æœ‰ï¼‰
- [ ] é–’ç½® 5 åˆ†é˜ç„¡è¼¸å…¥ï¼ŒéŠæˆ²çµæŸä¸”ç¶“é©—æ­¸ 0

#### US-008: ç²å¾—çå‹µ

**æ•…äº‹**: ä½œç‚ºä½¿ç”¨è€…ï¼Œæˆ‘æƒ³è¦é€éç·´ç¿’ç²å¾—è™›æ“¬è²¨å¹£ï¼Œä¸¦å…Œæ›å¯¦é«”çå“ã€‚

**é©—æ”¶æ¢ä»¶**:
- [ ] ç·´ç¿’è‡³å°‘ 10 åˆ†é˜å¾Œï¼Œéš¨æ©Ÿç²å¾— 1-5 å…ƒçå‹µ
- [ ] çå‹µç™¼æ”¾é‚è¼¯ï¼š
  - æ¯æ¬¡ç·´ç¿’æœ€å¤šç²å¾—ä¸€æ¬¡çå‹µ
  - æ¯æ—¥çå‹µä¸Šé™ 20 å…ƒ
  - çå‹µå†·å»æ™‚é–“ 10 åˆ†é˜
- [ ] çå‹µç™¼æ”¾å¾Œé¡¯ç¤ºé€šçŸ¥ï¼šã€Œæ­å–œç²å¾— X ç±³è±†å¹£ï¼ã€
- [ ] çå‹µè¨˜éŒ„é é¢é¡¯ç¤ºï¼šæ—¥æœŸã€é‡‘é¡ã€ä¾†æºï¼ˆç·´ç¿’/æŒ‘æˆ°ï¼‰

#### US-009: è§’è‰²å°å¾Œå°

**æ•…äº‹**: ä½œç‚ºä½¿ç”¨è€…ï¼Œæˆ‘æƒ³è¦ç®¡ç†æˆ‘çš„è§’è‰²è¨­å®šèˆ‡æŸ¥çœ‹å­¸ç¿’è¨˜éŒ„ã€‚

**é©—æ”¶æ¢ä»¶**:
- [ ] è¨­å®šé é¢åŒ…å«ï¼š
  - ä¿®æ”¹è§’è‰²åç¨±
  - ä¿®æ”¹è™›æ“¬è²¨å¹£åç¨±
  - é‡è¨­å¯†ç¢¼ï¼ˆéœ€è¼¸å…¥èˆŠå¯†ç¢¼ï¼‰
  - è¯çµ¡ç®¡ç†å“¡ï¼ˆä¸»æ—¨ + å…§å®¹ï¼‰
- [ ] è¨“ç·´è¨˜éŒ„é é¢é¡¯ç¤ºï¼š
  - æ—¥æœŸã€æŠ€èƒ½ã€é›£åº¦ã€æ™‚é–“ã€æ­£ç¢ºç‡ã€ç¶“é©—å€¼
  - å¯ä¾æŠ€èƒ½ç¯©é¸
- [ ] çå‹µæ­·å²é é¢é¡¯ç¤ºï¼š
  - æ—¥æœŸã€é‡‘é¡ã€ä¾†æº
  - ç¸½ç²å¾—ã€å¯ç”¨é¤˜é¡ã€å·²å…Œæ›
- [ ] å…Œæ›é é¢ï¼š
  - é¡¯ç¤ºå¯å…Œæ›çš„çå“åˆ—è¡¨ï¼ˆç”±ç®¡ç†å“¡è¨­å®šï¼‰
  - æäº¤å…Œæ›ç”³è«‹
  - æŸ¥çœ‹å…Œæ›ç‹€æ…‹ï¼ˆå¾…è™•ç†/å·²å®Œæˆï¼‰

---

### 2.3 ç®¡ç†å“¡

#### US-010: è§’è‰²ç®¡ç†

**æ•…äº‹**: ä½œç‚ºç®¡ç†å“¡ï¼Œæˆ‘æƒ³è¦æŸ¥çœ‹æ‰€æœ‰è¨»å†Šè§’è‰²ä¸¦ç®¡ç†ä»–å€‘çš„å¸³è™Ÿã€‚

**é©—æ”¶æ¢ä»¶**:
- [ ] è§’è‰²æ¸…å–®é¡¯ç¤ºï¼šä½¿ç”¨è€…åç¨±/Emailã€è§’è‰²åç¨±ã€ç­‰ç´šã€è¨»å†Šæ—¥æœŸã€å¸³è™Ÿé¡å‹
- [ ] æœå°‹åŠŸèƒ½ï¼šä¾ä½¿ç”¨è€…åç¨±æˆ– Email
- [ ] è§’è‰²è©³æƒ…ï¼š
  - åŸºæœ¬è³‡è¨Š
  - å„æŠ€èƒ½é€²åº¦
  - çå‹µè¨˜éŒ„
  - è¨“ç·´è¨˜éŒ„
- [ ] é‡è¨­å¯†ç¢¼ï¼ˆfor éŠæˆ²è¨»å†Šç”¨æˆ¶ï¼‰
- [ ] åœç”¨/å•Ÿç”¨è§’è‰²

#### US-011: Skills ç®¡ç†

**æ•…äº‹**: ä½œç‚ºç®¡ç†å“¡ï¼Œæˆ‘æƒ³è¦æ–°å¢æˆ–ç·¨è¼¯æŠ€èƒ½éŠæˆ²çš„é…ç½®ï¼Œä¸éœ€è¦ä¿®æ”¹ç¨‹å¼ç¢¼ã€‚

**é©—æ”¶æ¢ä»¶**:
- [ ] Skills æ¸…å–®é¡¯ç¤ºï¼šæŠ€èƒ½åç¨±ã€ç‹€æ…‹ã€é—œå¡æ•¸é‡
- [ ] æ–°å¢ Skillï¼š
  - åŸºæœ¬è³‡è¨Šï¼šåç¨±ã€åœ–ç¤ºã€æè¿°ã€åˆ†é¡
  - é—œå¡é…ç½®ï¼šé›£åº¦ã€è§£é–æ¢ä»¶ã€ç¶“é©—å€ç‡
  - ç¶“é©—å€¼è¦å‰‡ï¼šåŸºç¤ç¶“é©—ã€æ™‚é–“åŠ æˆã€æ­£ç¢ºç‡åŠ æˆ
  - çå‹µè¦å‰‡ï¼šæœ€å°‘éŠç©æ™‚é–“ã€çå‹µç¯„åœã€æ¯æ—¥ä¸Šé™
- [ ] ç·¨è¼¯ Skillï¼šä¿®æ”¹é…ç½®ä¸¦å³æ™‚ç”Ÿæ•ˆ
- [ ] åœç”¨ Skillï¼šå‰å°éš±è—è©²æŠ€èƒ½

#### US-012: è¨“ç·´è¨˜éŒ„ç®¡ç†

**æ•…äº‹**: ä½œç‚ºç®¡ç†å“¡ï¼Œæˆ‘æƒ³è¦æŸ¥çœ‹æ‰€æœ‰ä½¿ç”¨è€…çš„è¨“ç·´è¨˜éŒ„ï¼Œä»¥ä¾¿åˆ†æå­¸ç¿’ç‹€æ³ã€‚

**é©—æ”¶æ¢ä»¶**:
- [ ] è¨“ç·´è¨˜éŒ„æ¸…å–®é¡¯ç¤ºï¼šè§’è‰²ã€æŠ€èƒ½ã€æ—¥æœŸã€æ™‚é–“ã€æ­£ç¢ºç‡ã€ç¶“é©—å€¼ã€IP
- [ ] ç¯©é¸åŠŸèƒ½ï¼šä¾è§’è‰²ã€æŠ€èƒ½ã€æ—¥æœŸç¯„åœ
- [ ] åŒ¯å‡º CSV
- [ ] åˆªé™¤è¨˜éŒ„ï¼ˆéœ€ç¢ºèªï¼‰

#### US-013: çå‹µç®¡ç†

**æ•…äº‹**: ä½œç‚ºç®¡ç†å“¡ï¼Œæˆ‘æƒ³è¦ç™¼æ”¾çå‹µèˆ‡è™•ç†å…Œæ›ç”³è«‹ã€‚

**é©—æ”¶æ¢ä»¶**:
- [ ] æ‰‹å‹•ç™¼æ”¾çå‹µï¼šé¸æ“‡è§’è‰²ã€è¼¸å…¥é‡‘é¡èˆ‡åŸå› 
- [ ] çå‹µç™¼æ”¾æ­·å²ï¼šé¡¯ç¤ºæ‰€æœ‰ç™¼æ”¾è¨˜éŒ„
- [ ] å…Œæ›ç”³è«‹æ¸…å–®ï¼šé¡¯ç¤ºå¾…è™•ç†çš„å…Œæ›ç”³è«‹
- [ ] è™•ç†å…Œæ›ï¼šæ¨™è¨˜å·²å®Œæˆã€è¼¸å…¥å‚™è¨»ï¼ˆå¦‚ç‰©æµå–®è™Ÿï¼‰

#### US-014: è¨Šæ¯ç®¡ç†

**æ•…äº‹**: ä½œç‚ºç®¡ç†å“¡ï¼Œæˆ‘æƒ³è¦æŸ¥çœ‹ä½¿ç”¨è€…çš„è¯çµ¡è¨Šæ¯ä¸¦å›è¦†ã€‚

**é©—æ”¶æ¢ä»¶**:
- [ ] è¨Šæ¯æ¸…å–®é¡¯ç¤ºï¼šè§’è‰²ã€ä¸»æ—¨ã€æ—¥æœŸã€ç‹€æ…‹ï¼ˆæœªè®€/å·²è®€/å·²å›è¦†ï¼‰
- [ ] è¨Šæ¯è©³æƒ…ï¼šé¡¯ç¤ºå®Œæ•´å…§å®¹
- [ ] å›è¦†è¨Šæ¯ï¼šè¼¸å…¥å›è¦†å…§å®¹ä¸¦ç™¼é€
- [ ] ä½¿ç”¨è€…åœ¨è§’è‰²å°å¾Œå°å¯çœ‹åˆ°ç®¡ç†å“¡çš„å›è¦†

---

## 3. ç³»çµ±æ¶æ§‹è¨­è¨ˆ

### 3.1 æ•´é«”æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Frontend (React)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ æŠ€èƒ½æ‘é¦–é    â”‚  â”‚ éŠæˆ²ä»‹é¢     â”‚  â”‚ è§’è‰²å°å¾Œå°   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ ç®¡ç†å“¡å¾Œå°   â”‚  â”‚ è¨»å†Šç™»å…¥     â”‚  â”‚ çå‹µä¸­å¿ƒ     â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                                 â”‚
             â”‚ REST API                        â”‚ ç›´æ¥è®€å–
             â†“                                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Backend API (NestJS) â”‚      â”‚   Firestore (è³‡æ–™åº«)     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ èªè­‰æœå‹™          â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â†’â”‚ characters         â”‚ â”‚
â”‚  â”‚ è§’è‰²ç®¡ç†          â”‚   â”‚      â”‚  â”‚ skills             â”‚ â”‚
â”‚  â”‚ è¦å‰‡å¼•æ“          â”‚   â”‚      â”‚  â”‚ game_sessions      â”‚ â”‚
â”‚  â”‚ çå‹µè¨ˆç®—          â”‚   â”‚      â”‚  â”‚ rewards            â”‚ â”‚
â”‚  â”‚ ç®¡ç†å“¡ API        â”‚   â”‚      â”‚  â”‚ messages           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Firebase èˆ‡å¾Œç«¯è·è²¬åˆ†å·¥

#### Frontend â†’ Firestoreï¼ˆç›´æ¥è®€å–ï¼‰
- âœ… è®€å– skills collectionï¼ˆé—œå¡å®šç¾©ï¼‰
- âœ… è®€å– characters collectionï¼ˆè§’è‰²è³‡æ–™ï¼Œåƒ…è‡ªå·±çš„ï¼‰
- âœ… è®€å– game_sessions collectionï¼ˆè¨“ç·´è¨˜éŒ„ï¼Œåƒ…è‡ªå·±çš„ï¼‰
- âœ… è®€å– rewards collectionï¼ˆçå‹µè¨˜éŒ„ï¼Œåƒ…è‡ªå·±çš„ï¼‰
- âœ… è®€å– messages collectionï¼ˆè¨Šæ¯ï¼Œåƒ…è‡ªå·±çš„ï¼‰

#### Frontend â†’ Backend APIï¼ˆå¯«å…¥èˆ‡è¨ˆç®—ï¼‰
- âœ… è¨»å†Šã€ç™»å…¥ã€ç™»å‡º
- âœ… å»ºç«‹è§’è‰²ã€ä¿®æ”¹è§’è‰²è³‡è¨Š
- âœ… éŠæˆ²å®Œæˆæ™‚å‘¼å«è¦å‰‡å¼•æ“è¨ˆç®—ç¶“é©—å€¼èˆ‡çå‹µ
- âœ… ç™¼é€è¯çµ¡è¨Šæ¯
- âœ… æäº¤å…Œæ›ç”³è«‹
- âœ… æ‰€æœ‰ç®¡ç†å“¡æ“ä½œ

**åŸå› **: å¯«å…¥æ“ä½œé€éå¾Œç«¯å¯ç¢ºä¿è³‡æ–™ä¸€è‡´æ€§ã€é©—è­‰æ¬Šé™ã€é˜²æ­¢ä½œå¼Šã€‚

### 3.3 æŠ€è¡“æ£§

| å±¤ç´š | æŠ€è¡“ | èªªæ˜ |
|------|------|------|
| å‰ç«¯ | React 18 + TypeScript | ä¸»è¦å‰ç«¯æ¡†æ¶ |
| ç‹€æ…‹ç®¡ç† | Zustand | è¼•é‡ç´šç‹€æ…‹ç®¡ç† |
| UI æ¡†æ¶ | Ant Design | å¿«é€Ÿé–‹ç™¼ UI |
| è·¯ç”± | React Router v6 | SPA è·¯ç”± |
| å¾Œç«¯ | NestJS + TypeScript | Node.js æ¡†æ¶ |
| è³‡æ–™åº« | Firestore | NoSQL è³‡æ–™åº« |
| èªè­‰ | Firebase Auth | æ”¯æ´ Emailã€Google OAuth |
| éƒ¨ç½² | Vercel (Frontend) + Cloud Run (Backend) | Serverless éƒ¨ç½² |

---

## 4. è³‡æ–™æ¨¡å‹è¨­è¨ˆ

### 4.1 Firestore Collections

#### 4.1.1 skillsï¼ˆé—œå¡å®šç¾©ï¼‰

**èªªæ˜**: å„²å­˜æ‰€æœ‰æŠ€èƒ½éŠæˆ²çš„é…ç½®ï¼Œç®¡ç†å“¡å¯é€éå¾Œå°æ–°å¢/ç·¨è¼¯ã€‚

**Document ID**: `{skill-id}` (ä¾‹å¦‚: `english-typing`)

**Schema**:

```typescript
interface Skill {
  id: string;
  name: string;
  icon: string; // emoji æˆ–åœ–ç‰‡ URL
  description: string;
  category: string; // "language" | "math" | "memory" | "logic"
  status: "active" | "coming_soon" | "disabled";

  // é—œå¡é…ç½®
  levels: Level[];

  // éŠæˆ²ç‰¹å®šé…ç½®
  gameConfig: {
    type: string; // "typing" | "quiz" | "memory"
    [key: string]: any; // éŠæˆ²ç‰¹å®šåƒæ•¸
  };

  // ç¶“é©—å€¼è¦å‰‡
  expRules: {
    baseExp: number;
    timeBonus: number; // æ¯åˆ†é˜é¡å¤–ç¶“é©—
    accuracyBonus?: {
      threshold: number; // 0-1
      bonus: number;
    };
    streakBonus?: {
      threshold: number; // é€£çºŒå®Œæˆæ¬¡æ•¸
      bonus: number;
    };
  };

  // çå‹µè¦å‰‡
  rewardRules: {
    minPlayTime: number; // æœ€å°‘éŠç©æ™‚é–“ï¼ˆåˆ†é˜ï¼‰
    rewardRange: [number, number]; // [min, max]
    dailyLimit: number;
    cooldown: number; // å†·å»æ™‚é–“ï¼ˆåˆ†é˜ï¼‰
  };

  createdAt: Timestamp;
  updatedAt: Timestamp;
}

interface Level {
  id: string;
  name: string;
  unlockCondition: {
    characterLevel?: number;
    skillLevel?: number;
  };
  difficulty: number; // 1-5
  expMultiplier: number; // ç¶“é©—å€¼å€ç‡
  rewardMultiplier: number; // çå‹µå€ç‡
}
```

**ç¯„ä¾‹**:

```json
{
  "id": "english-typing",
  "name": "è‹±æ‰“ç·´ç¿’",
  "icon": "âŒ¨ï¸",
  "description": "é€éæ‰“å­—ç·´ç¿’æå‡è‹±æ–‡èƒ½åŠ›",
  "category": "language",
  "status": "active",
  "levels": [
    {
      "id": "beginner",
      "name": "åˆç´š",
      "unlockCondition": { "characterLevel": 1 },
      "difficulty": 1,
      "expMultiplier": 1.0,
      "rewardMultiplier": 1.0
    },
    {
      "id": "intermediate",
      "name": "ä¸­ç´š",
      "unlockCondition": { "characterLevel": 5 },
      "difficulty": 2,
      "expMultiplier": 1.5,
      "rewardMultiplier": 1.3
    },
    {
      "id": "advanced",
      "name": "é«˜ç´š",
      "unlockCondition": { "characterLevel": 10 },
      "difficulty": 3,
      "expMultiplier": 2.0,
      "rewardMultiplier": 1.5
    }
  ],
  "gameConfig": {
    "type": "typing",
    "timeLimit": 60,
    "wordSets": {
      "beginner": ["cat", "dog", "apple", "book", "tree"],
      "intermediate": ["The quick brown fox jumps over the lazy dog"],
      "advanced": ["Complete paragraph texts..."]
    }
  },
  "expRules": {
    "baseExp": 10,
    "timeBonus": 2,
    "accuracyBonus": {
      "threshold": 0.9,
      "bonus": 5
    },
    "streakBonus": {
      "threshold": 3,
      "bonus": 10
    }
  },
  "rewardRules": {
    "minPlayTime": 10,
    "rewardRange": [1, 5],
    "dailyLimit": 20,
    "cooldown": 10
  }
}
```

---

#### 4.1.2 charactersï¼ˆè§’è‰²è³‡æ–™ï¼‰

**Document ID**: `{character-id}` (è‡ªå‹•ç”Ÿæˆ)

**Schema**:

```typescript
interface Character {
  id: string;

  // å¸³è™Ÿè³‡è¨Š
  accountType: "guest" | "simple" | "full";
  userId?: string; // full é¡å‹æ‰æœ‰ (Firebase Auth UID)
  username?: string; // simple é¡å‹æ‰æœ‰

  // è§’è‰²è³‡è¨Š
  name: string;
  avatar?: string; // é è¨­é ­åƒæˆ–è‡ªè¨‚
  currencyName: string; // è™›æ“¬è²¨å¹£åç¨±ï¼Œé è¨­ã€Œç±³è±†å¹£ã€

  // ç­‰ç´šèˆ‡ç¶“é©—
  level: number;
  totalExp: number;
  currentLevelExp: number; // ç•¶å‰ç­‰ç´šçš„ç¶“é©—å€¼
  nextLevelExp: number; // å‡ç´šæ‰€éœ€ç¶“é©—å€¼

  // å„æŠ€èƒ½é€²åº¦ï¼ˆå‹•æ…‹æ¬„ä½ï¼‰
  skillProgress: {
    [skillId: string]: SkillProgress;
  };

  // çå‹µè³‡è¨Š
  rewards: {
    totalEarned: number;
    available: number;
    redeemed: number;
    lastRewardAt?: Timestamp;
  };

  // ç‹€æ…‹
  status: "active" | "suspended";

  // æ™‚é–“æˆ³
  createdAt: Timestamp;
  updatedAt: Timestamp;
  lastLoginAt?: Timestamp;
}

interface SkillProgress {
  skillLevel: number;
  skillExp: number;
  playCount: number;
  totalPlayTime: number; // åˆ†é˜
  lastPlayedAt: Timestamp;
  streak: number; // é€£çºŒå®Œæˆæ¬¡æ•¸
  bestScore?: {
    accuracy?: number;
    wpm?: number;
    score?: number;
  };
}
```

**ç¯„ä¾‹**:

```json
{
  "id": "char_abc123",
  "accountType": "simple",
  "username": "mido2024",
  "name": "ç±³è±†",
  "avatar": "default",
  "currencyName": "ç±³è±†å¹£",
  "level": 15,
  "totalExp": 3250,
  "currentLevelExp": 250,
  "nextLevelExp": 500,
  "skillProgress": {
    "english-typing": {
      "skillLevel": 8,
      "skillExp": 450,
      "playCount": 25,
      "totalPlayTime": 360,
      "lastPlayedAt": "2026-02-11T12:00:00Z",
      "streak": 3,
      "bestScore": {
        "accuracy": 0.95,
        "wpm": 60
      }
    }
  },
  "rewards": {
    "totalEarned": 150,
    "available": 80,
    "redeemed": 70,
    "lastRewardAt": "2026-02-11T11:50:00Z"
  },
  "status": "active",
  "createdAt": "2026-01-01T00:00:00Z",
  "updatedAt": "2026-02-11T12:00:00Z",
  "lastLoginAt": "2026-02-11T12:00:00Z"
}
```

---

#### 4.1.3 game_sessionsï¼ˆéŠæˆ²è¨˜éŒ„ï¼‰

**Document ID**: è‡ªå‹•ç”Ÿæˆ

**Schema**:

```typescript
interface GameSession {
  id: string;
  characterId: string;
  skillId: string;
  levelId: string;

  // éŠæˆ²è¡¨ç¾
  performance: {
    playTime: number; // åˆ†é˜
    accuracy?: number; // 0-1
    wpm?: number; // è‹±æ‰“é€Ÿåº¦
    score?: number;
    challengeCount?: number;
  };

  // ç²å¾—çå‹µ
  result: {
    expGained: number;
    levelUp: boolean;
    newLevel: number;
    rewardEarned: number;
    message: string;
  };

  // å…ƒè³‡è¨Š
  metadata: {
    ip: string;
    userAgent: string;
    sessionId: string;
  };

  createdAt: Timestamp;
}
```

**ç¯„ä¾‹**:

```json
{
  "id": "session_xyz789",
  "characterId": "char_abc123",
  "skillId": "english-typing",
  "levelId": "intermediate",
  "performance": {
    "playTime": 15,
    "accuracy": 0.92,
    "wpm": 58,
    "challengeCount": 1
  },
  "result": {
    "expGained": 35,
    "levelUp": false,
    "newLevel": 8,
    "rewardEarned": 3,
    "message": "ç²å¾— 35 ç¶“é©—å€¼ï¼æ­£ç¢ºç‡ 92%ï¼Œè¡¨ç¾å„ªç§€ï¼"
  },
  "metadata": {
    "ip": "1.2.3.4",
    "userAgent": "Mozilla/5.0...",
    "sessionId": "sess_123456"
  },
  "createdAt": "2026-02-11T12:00:00Z"
}
```

---

#### 4.1.4 rewardsï¼ˆçå‹µè¨˜éŒ„ï¼‰

**Document ID**: è‡ªå‹•ç”Ÿæˆ

**Schema**:

```typescript
interface Reward {
  id: string;
  characterId: string;
  type: "play_time" | "challenge" | "manual" | "achievement";
  amount: number;
  source: string; // "english-typing" | "admin" | "achievement:first-10-level"
  description: string;

  // é—œè¯çš„éŠæˆ² sessionï¼ˆå¦‚æœ‰ï¼‰
  gameSessionId?: string;

  createdAt: Timestamp;
}
```

---

#### 4.1.5 messagesï¼ˆè¯çµ¡è¨Šæ¯ï¼‰

**Document ID**: è‡ªå‹•ç”Ÿæˆ

**Schema**:

```typescript
interface Message {
  id: string;
  characterId: string;
  subject: string;
  content: string;
  status: "unread" | "read" | "replied";

  // ç®¡ç†å“¡å›è¦†
  reply?: {
    content: string;
    repliedBy: string; // ç®¡ç†å“¡ ID
    repliedAt: Timestamp;
  };

  createdAt: Timestamp;
  updatedAt: Timestamp;
}
```

---

### 4.2 è³‡æ–™é—œè¯åœ–

```
characters (1) â”€â”€â†’ (N) game_sessions
           (1) â”€â”€â†’ (N) rewards
           (1) â”€â”€â†’ (N) messages

skills (1) â”€â”€â†’ (N) game_sessions

game_sessions (1) â”€â”€â†’ (0..1) rewards
```

---

## 5. åŠŸèƒ½è¦æ ¼

### 5.1 è¨»å†Šèˆ‡ç™»å…¥ç³»çµ±

#### 5.1.1 è¨ªå®¢æ¨¡å¼

**åŠŸèƒ½æè¿°**: è¨ªå®¢ç„¡éœ€è¨»å†Šå³å¯é«”é©—æŠ€èƒ½æ‘ï¼Œä½†é€²åº¦åƒ…ä¿å­˜åœ¨ localStorageï¼Œ7 å¤©å¾Œè‡ªå‹•æ¸…é™¤ã€‚

**å¯¦ä½œç´°ç¯€**:
1. è¨ªå®¢é»æ“Šã€Œè¨ªå®¢é«”é©—ã€æŒ‰éˆ•
2. è¼¸å…¥è§’è‰²åç¨±ï¼ˆ2-12 å­—å…ƒï¼‰
3. ç³»çµ±åœ¨ localStorage å»ºç«‹è‡¨æ™‚è§’è‰²ï¼š
   ```json
   {
     "accountType": "guest",
     "name": "è¨ªå®¢ç±³è±†",
     "level": 1,
     "totalExp": 0,
     "createdAt": "2026-02-11T12:00:00Z",
     "expiresAt": "2026-02-18T12:00:00Z"
   }
   ```
4. æ¯æ¬¡é–‹å•Ÿç¶²ç«™æ™‚æª¢æŸ¥ `expiresAt`ï¼ŒéæœŸå‰‡æ¸…é™¤è³‡æ–™

**é™åˆ¶**:
- ç„¡æ³•ç²å¾—çå‹µ
- ç„¡æ³•åƒèˆ‡æ’è¡Œæ¦œï¼ˆæœªä¾†åŠŸèƒ½ï¼‰
- é€²åº¦ä¸æœƒåŒæ­¥åˆ°é›²ç«¯

---

#### 5.1.2 éŠæˆ²è¨»å†Š

**UI**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       éŠæˆ²è¨»å†Š - å¿«é€Ÿä¸Šæ‰‹           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä½¿ç”¨è€…åç¨±: [__________________]   â”‚
â”‚ å¯†ç¢¼:       [__________________]   â”‚
â”‚ ç¢ºèªå¯†ç¢¼:   [__________________]   â”‚
â”‚                                     â”‚
â”‚ [âœ“] æˆ‘å·²é–±è®€ä¸¦åŒæ„æœå‹™æ¢æ¬¾          â”‚
â”‚                                     â”‚
â”‚         [      è¨»å†Š      ]          â”‚
â”‚                                     â”‚
â”‚ å·²æœ‰å¸³è™Ÿï¼Ÿ [ç™»å…¥]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é©—è­‰è¦å‰‡**:
- ä½¿ç”¨è€…åç¨±ï¼š4-16 å­—å…ƒï¼Œåƒ…å…è¨± `a-zA-Z0-9_`
- å¯†ç¢¼ï¼š4-8 å­—å…ƒï¼Œå¯åŒ…å« `a-zA-Z0-9`
- ä½¿ç”¨è€…åç¨±å”¯ä¸€æ€§æª¢æŸ¥ï¼ˆå³æ™‚ï¼‰

**API**:
```
POST /api/auth/register-simple
{
  "username": "mido2024",
  "password": "pass1234",
  "characterName": "ç±³è±†"
}

Response:
{
  "success": true,
  "token": "jwt_token",
  "character": { ... }
}
```

---

#### 5.1.3 å®Œæ•´è¨»å†Š

**UI**: é¡ä¼¼éŠæˆ²è¨»å†Šï¼Œä½†ä½¿ç”¨ Email + æ›´å¼·å¯†ç¢¼

**é©—è­‰è¦å‰‡**:
- Email æ ¼å¼é©—è­‰
- å¯†ç¢¼è‡³å°‘ 8 å­—å…ƒ

**API**:
```
POST /api/auth/register-full
{
  "email": "user@example.com",
  "password": "password123",
  "characterName": "ç±³è±†"
}
```

**Google OAuth**: ä½¿ç”¨ Firebase Auth çš„ `signInWithPopup`

---

#### 5.1.4 ç™»å…¥

**UI**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             ç™»å…¥                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä½¿ç”¨è€…åç¨±/Email: [_____________]  â”‚
â”‚ å¯†ç¢¼:             [_____________]  â”‚
â”‚                                     â”‚
â”‚ [âœ“] è¨˜ä½æˆ‘                          â”‚
â”‚                                     â”‚
â”‚         [      ç™»å…¥      ]          â”‚
â”‚                                     â”‚
â”‚ [ç”¨ Google ç™»å…¥]                    â”‚
â”‚                                     â”‚
â”‚ é‚„æ²’å¸³è™Ÿï¼Ÿ [è¨»å†Š]                   â”‚
â”‚ å¿˜è¨˜å¯†ç¢¼ï¼Ÿ [è¯çµ¡ç®¡ç†å“¡]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API**:
```
POST /api/auth/login
{
  "identifier": "mido2024", // username æˆ– email
  "password": "pass1234"
}

Response:
{
  "success": true,
  "token": "jwt_token",
  "characters": [ ... ] // è©²å¸³è™Ÿçš„æ‰€æœ‰è§’è‰²
}
```

---

### 5.2 è§’è‰²ç®¡ç†ç³»çµ±

#### 5.2.1 å»ºç«‹è§’è‰²

**å‰æ**: ä½¿ç”¨è€…å·²ç™»å…¥ï¼ˆå®Œæ•´è¨»å†Šå¸³è™Ÿï¼‰

**UI**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         å»ºç«‹æ–°è§’è‰²                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è§’è‰²åç¨±:       [_____________]    â”‚
â”‚ è™›æ“¬è²¨å¹£åç¨±:   [_____________]    â”‚
â”‚                 (é è¨­: ç±³è±†å¹£)      â”‚
â”‚                                     â”‚
â”‚         [      å»ºç«‹      ]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API**:
```
POST /api/characters
Authorization: Bearer {token}
{
  "name": "æ¯›è±†",
  "currencyName": "æ¯›è±†å¹£"
}

Response:
{
  "success": true,
  "character": { ... }
}
```

**é™åˆ¶**: æ¯å€‹å¸³è™Ÿæœ€å¤š 5 å€‹è§’è‰²

---

#### 5.2.2 è§’è‰²åˆ—è¡¨

**UI**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            é¸æ“‡è§’è‰²                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  ç±³è±†        â”‚  â”‚  æ¯›è±†        â”‚           â”‚
â”‚  â”‚  Lv 15      â”‚  â”‚  Lv 8       â”‚           â”‚
â”‚  â”‚  ç¶“é©—: 3250 â”‚  â”‚  ç¶“é©—: 890  â”‚           â”‚
â”‚  â”‚             â”‚  â”‚             â”‚           â”‚
â”‚  â”‚  [é¸æ“‡]     â”‚  â”‚  [é¸æ“‡]     â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                              â”‚
â”‚            [+ å»ºç«‹æ–°è§’è‰²]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5.3 æŠ€èƒ½æ‘é¦–é 

**UI å¸ƒå±€**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Logo] æŠ€èƒ½æ‘                          [ç±³è±† Lv 15] [è¨­å®š] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è§’è‰²è³‡è¨Š                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ç±³è±† Lv 15                                      â”‚    â”‚
â”‚  â”‚  ç¶“é©—å€¼: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 3250/5000                  â”‚    â”‚
â”‚  â”‚  ç±³è±†å¹£: 80 å…ƒ                                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                           â”‚
â”‚  æŠ€èƒ½åˆ—è¡¨                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ âŒ¨ï¸ è‹±æ‰“ç·´ç¿’   â”‚  â”‚ ğŸ§® æ•¸å­¸é‹ç®—  â”‚  â”‚ ğŸ¯ è¨˜æ†¶éŠæˆ²  â”‚     â”‚
â”‚  â”‚ Lv 8        â”‚  â”‚ å³å°‡æ¨å‡º     â”‚  â”‚ å³å°‡æ¨å‡º     â”‚     â”‚
â”‚  â”‚ [é–‹å§‹ç·´ç¿’]   â”‚  â”‚              â”‚  â”‚              â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è³‡æ–™ä¾†æº**:
- è§’è‰²è³‡è¨Šï¼šFirestore `characters/{characterId}`
- æŠ€èƒ½åˆ—è¡¨ï¼šFirestore `skills` collection (status = "active")

**äº’å‹•**:
- é»æ“Šã€Œé–‹å§‹ç·´ç¿’ã€â†’ é€²å…¥éŠæˆ²ä»‹é¢
- é»æ“Šã€Œç±³è±†å¹£ã€â†’ é€²å…¥çå‹µä¸­å¿ƒ
- é»æ“Šã€Œè¨­å®šã€â†’ é€²å…¥è§’è‰²å°å¾Œå°

---

### 5.4 ç­‰ç´šèˆ‡ç¶“é©—ç³»çµ±ï¼ˆLv 1-1000ï¼‰

#### 5.4.1 ç­‰ç´šç¶“é©—å€¼è¡¨

**è¨ˆç®—å…¬å¼**:

| ç­‰ç´šç¯„åœ | å‡ç´šæ‰€éœ€ç¶“é©—å…¬å¼ | ç´¯è¨ˆç¶“é©— |
|---------|-----------------|---------|
| Lv 1-50 | `level * 100` | Lv 50: 127,500 |
| Lv 51-200 | `5000 + (level - 50) * 200` | Lv 200: 577,500 |
| Lv 201-500 | `35000 + (level - 200) * 500` | Lv 500: 8,077,500 |
| Lv 501-1000 | `185000 + (level - 500) * 1000` | Lv 1000: 258,077,500 |

**é—œéµç­‰ç´šé‡Œç¨‹ç¢‘**:

| ç­‰ç´š | å‡ç´šæ‰€éœ€ç¶“é©— | ç´¯è¨ˆç¶“é©— | é ä¼°éŠç©æ™‚é–“* | é‡Œç¨‹ç¢‘ |
|------|-------------|---------|--------------|--------|
| Lv 10 | 1,000 | 5,500 | 55 å°æ™‚ | è§£é–ä¸­ç´šé—œå¡ |
| Lv 50 | 5,000 | 127,500 | 1,275 å°æ™‚ | ç¨±è™Ÿã€Œå­¸ç¿’æ–°æ‰‹ã€|
| Lv 100 | 15,000 | 577,500 | 5,775 å°æ™‚ | ç¨±è™Ÿã€Œå‹¤å¥®å­¸è€…ã€|
| Lv 300 | 85,000 | 5,077,500 | 50,775 å°æ™‚ | ç¨±è™Ÿã€ŒæŠ€èƒ½å¤§å¸«ã€|
| Lv 500 | 185,000 | 83,077,500 | 830,775 å°æ™‚ | è§£é–å‚³èªªé—œå¡ |
| Lv 1000 | 685,000 | 258,077,500 | 2,580,775 å°æ™‚ | ç¨±è™Ÿã€Œå‚³å¥‡å­¸è€…ã€|

*å‡è¨­æ¯å°æ™‚ç²å¾— 100 ç¶“é©—

**å¯¦ä½œ**: å¾Œç«¯ç¶­è­·ä¸€å€‹ç­‰ç´šç¶“é©—å€¼å°ç…§è¡¨ï¼ˆJSON æˆ–è³‡æ–™åº«ï¼‰ï¼Œé¿å…æ¯æ¬¡é‡è¤‡è¨ˆç®—ã€‚

---

#### 5.4.2 ç¶“é©—å€¼ç²å¾—æ–¹å¼

**ä¾†æº 1: éŠæˆ²å®Œæˆ**

æ ¹æ“š `skills` ä¸­çš„ `expRules` è¨ˆç®—ï¼š

```
ç¸½ç¶“é©— = (åŸºç¤ç¶“é©— + æ™‚é–“åŠ æˆ + æ­£ç¢ºç‡åŠ æˆ + é€£çºŒåŠ æˆ) * é›£åº¦å€ç‡

ç¯„ä¾‹ï¼ˆè‹±æ‰“ç·´ç¿’ - ä¸­ç´šï¼‰:
- åŸºç¤ç¶“é©—: 10
- éŠç© 15 åˆ†é˜: 15 * 2 = 30
- æ­£ç¢ºç‡ 92% (>90%): +5
- é€£çºŒç¬¬ 3 æ¬¡: +10
- é›£åº¦å€ç‡: 1.5

ç¸½ç¶“é©— = (10 + 30 + 5 + 10) * 1.5 = 82.5 â‰ˆ 83
```

**ä¾†æº 2: æˆå°±è§£é–ï¼ˆæœªä¾†åŠŸèƒ½ï¼‰**

---

#### 5.4.3 å‡ç´šé€šçŸ¥

**UI**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‰ æ­å–œå‡ç´šï¼                       â”‚
â”‚                                     â”‚
â”‚      Lv 14 â†’ Lv 15                 â”‚
â”‚                                     â”‚
â”‚  âœ¨ ç²å¾— 5 ç±³è±†å¹£çå‹µï¼              â”‚
â”‚  ğŸ”“ è§£é–æ–°é—œå¡ï¼šæ•¸å­¸é‹ç®—ï¼ˆåˆç´šï¼‰     â”‚
â”‚                                     â”‚
â”‚         [      ç¢ºå®š      ]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5.5 è™›æ“¬è²¨å¹£èˆ‡çå‹µç³»çµ±

#### 5.5.1 çå‹µç²å¾—è¦å‰‡

**æ™‚é–“çå‹µ**:
- æ¢ä»¶ï¼šå–®æ¬¡éŠç©è‡³å°‘ 10 åˆ†é˜
- é‡‘é¡ï¼šéš¨æ©Ÿ 1-5 å…ƒ
- å†·å»ï¼š10 åˆ†é˜
- æ¯æ—¥ä¸Šé™ï¼š20 å…ƒ

**æŒ‘æˆ°çå‹µ**ï¼ˆæœªä¾†åŠŸèƒ½ï¼‰:
- å®Œæˆç‰¹å®šæŒ‘æˆ°ï¼ˆå¦‚æ­£ç¢ºç‡ 100%ï¼‰
- é‡‘é¡ï¼šä¾æŒ‘æˆ°é›£åº¦

**æ‰‹å‹•ç™¼æ”¾**:
- ç®¡ç†å“¡å¯æ‰‹å‹•çµ¦äºˆçå‹µ

---

#### 5.5.2 çå‹µç™¼æ”¾é‚è¼¯ï¼ˆå¾Œç«¯ï¼‰

```typescript
async function calculateReward(
  character: Character,
  skill: Skill,
  performance: Performance
): Promise<number> {
  const rules = skill.rewardRules;

  // æª¢æŸ¥éŠç©æ™‚é–“
  if (performance.playTime < rules.minPlayTime) {
    return 0;
  }

  // æª¢æŸ¥å†·å»æ™‚é–“
  const lastRewardAt = character.rewards.lastRewardAt;
  if (lastRewardAt) {
    const minutesSince = (Date.now() - lastRewardAt.toMillis()) / 60000;
    if (minutesSince < rules.cooldown) {
      return 0;
    }
  }

  // æª¢æŸ¥æ¯æ—¥ä¸Šé™
  const todayEarned = await getTodayEarned(character.id);
  if (todayEarned >= rules.dailyLimit) {
    return 0;
  }

  // éš¨æ©Ÿçå‹µ
  const [min, max] = rules.rewardRange;
  const reward = Math.floor(Math.random() * (max - min + 1)) + min;

  // ä¸è¶…éæ¯æ—¥ä¸Šé™
  return Math.min(reward, rules.dailyLimit - todayEarned);
}
```

---

#### 5.5.3 çå‹µä¸­å¿ƒ UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  çå‹µä¸­å¿ƒ                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç±³è±†å¹£é¤˜é¡: 80 å…ƒ                                          â”‚
â”‚  ä»Šæ—¥å·²ç²å¾—: 15 å…ƒ / 20 å…ƒ                                  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  çå‹µè¨˜éŒ„                                           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ æ—¥æœŸ   â”‚ é‡‘é¡     â”‚ ä¾†æº   â”‚ èªªæ˜         â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ 02/11  â”‚ +3 å…ƒ    â”‚ è‹±æ‰“   â”‚ ç·´ç¿’ 15 åˆ†é˜  â”‚  â”‚
â”‚  â”‚ 02/10  â”‚ +5 å…ƒ    â”‚ è‹±æ‰“   â”‚ ç·´ç¿’ 20 åˆ†é˜  â”‚  â”‚
â”‚  â”‚ 02/09  â”‚ +10 å…ƒ   â”‚ ç®¡ç†å“¡ â”‚ æ´»å‹•çå‹µ     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å…Œæ›çå“                                           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  â–¡ æ–‡å…·çµ„ (50 å…ƒ)                 [å…Œæ›]           â”‚  â”‚
â”‚  â”‚  â–¡ åœ–æ›¸ç¦®åˆ¸ (100 å…ƒ)              [å…Œæ›]           â”‚  â”‚
â”‚  â”‚  â–¡ ç©å…· (150 å…ƒ)                  é¤˜é¡ä¸è¶³          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å…Œæ›è¨˜éŒ„                                           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ æ—¥æœŸ   â”‚ é …ç›®     â”‚ é‡‘é¡   â”‚ ç‹€æ…‹         â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ 02/05  â”‚ æ–‡å…·çµ„   â”‚ 50 å…ƒ  â”‚ å·²å®Œæˆ       â”‚  â”‚
â”‚  â”‚ 01/28  â”‚ åœ–æ›¸ç¦®åˆ¸ â”‚ 100 å…ƒ â”‚ è™•ç†ä¸­       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5.6 è‹±æ‰“ç·´ç¿’éŠæˆ²

#### 5.6.1 éŠæˆ²ä»‹é¢è¨­è¨ˆ

**Desktop ç‰ˆæœ¬**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è‹±æ‰“ç·´ç¿’ - ä¸­ç´š                           [X é›¢é–‹]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  é›£åº¦: ä¸­ç´š (Lv 5+)         æ™‚é–“: 00:45 / 01:00           â”‚
â”‚  æ­£ç¢ºç‡: 92%                WPM: 58                        â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚         The quick brown fox jumps                 â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  è¼¸å…¥: [The quick brown fox ju_________________]          â”‚
â”‚                                                            â”‚
â”‚  é€²åº¦: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 15/20                      â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**iPad ç‰ˆæœ¬**ï¼ˆè§¸æ§å„ªåŒ–ï¼‰:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è‹±æ‰“ç·´ç¿’ - ä¸­ç´š             [X]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ™‚é–“: 00:45                           â”‚
â”‚  æ­£ç¢ºç‡: 92%   WPM: 58                 â”‚
â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  The quick brown fox jumps     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                        â”‚
â”‚  [The quick brown fox ju________]    â”‚
â”‚                                        â”‚
â”‚  [è™›æ“¬éµç›¤è‡ªå‹•å½ˆå‡º]                    â”‚
â”‚                                        â”‚
â”‚  é€²åº¦: 15/20 [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### 5.6.2 é›£åº¦è¨­å®šèˆ‡å–®å­—åº«

**åˆç´šï¼ˆLv 1+ï¼‰**:

- **ç›®æ¨™**: åŸºç¤å¸¸è¦‹å–®å­—ï¼Œé©åˆå°ä¸€åˆ°å°ä¸‰
- **å–®å­—æ•¸é‡**: 100 å€‹
- **ç¯„ä¾‹**: cat, dog, apple, book, tree, sun, moon, star, hand, foot
- **æ¯å›åˆ**: éš¨æ©Ÿ 20 å€‹å–®å­—
- **æ™‚é–“é™åˆ¶**: 60 ç§’

**ä¸­ç´šï¼ˆLv 5+ï¼‰**:

- **ç›®æ¨™**: çŸ­å¥èˆ‡ç‰‡èªï¼Œé©åˆå°å››åˆ°åœ‹ä¸­
- **å¥å­æ•¸é‡**: 50 å¥
- **ç¯„ä¾‹**:
  - The quick brown fox jumps over the lazy dog.
  - She sells seashells by the seashore.
  - Learning is a lifelong journey.
- **æ¯å›åˆ**: éš¨æ©Ÿ 10 å¥
- **æ™‚é–“é™åˆ¶**: 90 ç§’

**é«˜ç´šï¼ˆLv 10+ï¼‰**:

- **ç›®æ¨™**: å®Œæ•´æ®µè½ï¼Œé©åˆé«˜ä¸­
- **æ®µè½æ•¸é‡**: 20 æ®µ
- **ç¯„ä¾‹**: å®Œæ•´çš„è‹±æ–‡æ–‡ç« æ®µè½ï¼ˆ100-150 å­—ï¼‰
- **æ¯å›åˆ**: éš¨æ©Ÿ 3 æ®µ
- **æ™‚é–“é™åˆ¶**: 120 ç§’

**è³‡æ–™ä¾†æº**: å„²å­˜åœ¨ Firestore `skills/english-typing` çš„ `gameConfig.wordSets`

---

#### 5.6.3 è¨ˆæ™‚èˆ‡è¨ˆåˆ†é‚è¼¯

**è¨ˆæ™‚å™¨**:

```typescript
// éŠæˆ²é–‹å§‹æ™‚å•Ÿå‹•è¨ˆæ™‚å™¨
const startTime = Date.now();
let timeRemaining = 60; // ç§’

const timer = setInterval(() => {
  timeRemaining--;
  updateTimerDisplay(timeRemaining);

  if (timeRemaining <= 0) {
    endGame();
  }
}, 1000);
```

**æ­£ç¢ºç‡è¨ˆç®—**:

```typescript
interface TypingStats {
  totalChars: number;      // ç¸½å­—å…ƒæ•¸
  correctChars: number;    // æ­£ç¢ºå­—å…ƒæ•¸
  incorrectChars: number;  // éŒ¯èª¤å­—å…ƒæ•¸
}

function calculateAccuracy(stats: TypingStats): number {
  return stats.correctChars / stats.totalChars;
}
```

**WPM (Words Per Minute) è¨ˆç®—**:

```typescript
function calculateWPM(correctChars: number, timeInSeconds: number): number {
  // 1 word = 5 characters (æ¨™æº–è¨ˆç®—æ–¹å¼)
  const words = correctChars / 5;
  const minutes = timeInSeconds / 60;
  return Math.round(words / minutes);
}
```

---

#### 5.6.4 é–’ç½®åµæ¸¬æ©Ÿåˆ¶

**å‰ç«¯åµæ¸¬**:

```typescript
let lastActivityTime = Date.now();
const IDLE_TIMEOUT = 5 * 60 * 1000; // 5 åˆ†é˜

// ç›£è½ä½¿ç”¨è€…æ´»å‹•
document.addEventListener('keydown', () => {
  lastActivityTime = Date.now();
});

// å®šæœŸæª¢æŸ¥é–’ç½®
const idleChecker = setInterval(() => {
  const idleTime = Date.now() - lastActivityTime;

  if (idleTime > IDLE_TIMEOUT) {
    // é–’ç½®è¶…é 5 åˆ†é˜
    clearInterval(idleChecker);
    endGameWithoutReward();
    showMessage('é–’ç½®æ™‚é–“éé•·ï¼Œæœ¬æ¬¡ç·´ç¿’ä¸è¨ˆå…¥ç¶“é©—å€¼');
  }
}, 10000); // æ¯ 10 ç§’æª¢æŸ¥ä¸€æ¬¡
```

**å¾Œç«¯é©—è­‰**:

```typescript
// API æ”¶åˆ°éŠæˆ²å®Œæˆæ™‚ï¼Œé©—è­‰æ™‚é–“åˆç†æ€§
function validateGameSession(
  startTime: number,
  endTime: number,
  playTime: number
): boolean {
  const actualDuration = (endTime - startTime) / 60000; // åˆ†é˜

  // å¯¦éš›æ™‚é–“èˆ‡å®£ç¨±æ™‚é–“å·®è·ä¸èƒ½è¶…é 20%
  const diff = Math.abs(actualDuration - playTime);
  return diff / playTime < 0.2;
}
```

---

#### 5.6.5 éŠæˆ²çµæŸç•«é¢

**UI**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‰ ç·´ç¿’å®Œæˆï¼                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  æˆç¸¾å ±å‘Š                                           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  ç·´ç¿’æ™‚é–“: 15 åˆ†é˜                                  â”‚  â”‚
â”‚  â”‚  æ­£ç¢ºç‡:   92%                                      â”‚  â”‚
â”‚  â”‚  æ‰“å­—é€Ÿåº¦: 58 WPM                                   â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  å€‹äººæœ€ä½³: 60 WPM (è¶…è¶Š 97%!)                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  çå‹µ                                               â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  âœ¨ ç²å¾—ç¶“é©—å€¼: +83 EXP                             â”‚  â”‚
â”‚  â”‚  ğŸ’° ç²å¾—çå‹µ:   +3 ç±³è±†å¹£                           â”‚  â”‚
â”‚  â”‚  ğŸ“Š æŠ€èƒ½ç­‰ç´š:   Lv 8 (450/600)                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚         [å†ç©ä¸€æ¬¡]            [è¿”å›æŠ€èƒ½æ‘]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å‡ç´šæ™‚é¡¯ç¤º**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‰ æ­å–œå‡ç´šï¼                          â”‚
â”‚                                        â”‚
â”‚      Lv 7 â†’ Lv 8                      â”‚
â”‚                                        â”‚
â”‚  âœ¨ ç²å¾— 5 ç±³è±†å¹£çå‹µï¼                 â”‚
â”‚  ğŸ”“ è§£é–æ–°é—œå¡ï¼šæ•¸å­¸é‹ç®—ï¼ˆåˆç´šï¼‰        â”‚
â”‚                                        â”‚
â”‚         [      ç¢ºå®š      ]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5.7 è¦å‰‡å¼•æ“

#### 5.7.1 æ¨™æº–åŒ–ä»‹é¢è¨­è¨ˆ

**ç›®çš„**: è®“æ‰€æœ‰æŠ€èƒ½éŠæˆ²é€éç›¸åŒçš„ä»‹é¢èˆ‡è§’è‰²ç³»çµ±äº’å‹•ï¼Œæœªä¾†æ–°å¢éŠæˆ²æ™‚ä¸éœ€ä¿®æ”¹æ ¸å¿ƒé‚è¼¯ã€‚

**æ ¸å¿ƒä»‹é¢**:

```typescript
interface GameCompleteRequest {
  characterId: string;
  skillId: string;
  levelId: string;
  performance: GamePerformance;
  metadata: GameMetadata;
}

interface GamePerformance {
  playTime: number;        // éŠç©æ™‚é–“ï¼ˆåˆ†é˜ï¼‰
  accuracy?: number;       // æ­£ç¢ºç‡ (0-1)ï¼Œé¸å¡«
  wpm?: number;            // æ‰“å­—é€Ÿåº¦ï¼Œé¸å¡«
  score?: number;          // åˆ†æ•¸ï¼Œé¸å¡«
  challengeCount?: number; // æŒ‘æˆ°æ¬¡æ•¸ï¼Œé¸å¡«
}

interface GameMetadata {
  ip: string;
  userAgent: string;
  sessionId: string;
  startTime: number;      // Unix timestamp
  endTime: number;        // Unix timestamp
}

interface GameCompleteResponse {
  success: boolean;
  result: {
    expGained: number;
    levelUp: boolean;
    newLevel: number;
    newExp: number;
    rewardEarned: number;
    achievements?: string[]; // æœªä¾†åŠŸèƒ½
    message: string;
  };
}
```

---

#### 5.7.2 ç¶“é©—å€¼è¨ˆç®—æµç¨‹

**æµç¨‹åœ–**:

```
éŠæˆ²å®Œæˆ
    â”‚
    â†“
[è®€å– Skill é…ç½®]
    â”‚
    â†“
[è¨ˆç®—åŸºç¤ç¶“é©—]
baseExp = skill.expRules.baseExp
    â”‚
    â†“
[åŠ ä¸Šæ™‚é–“åŠ æˆ]
timeBonus = playTime * skill.expRules.timeBonus
    â”‚
    â†“
[æª¢æŸ¥æ­£ç¢ºç‡åŠ æˆ]
if (accuracy > threshold) {
    accuracyBonus = skill.expRules.accuracyBonus.bonus
}
    â”‚
    â†“
[æª¢æŸ¥é€£çºŒåŠ æˆ]
if (streak >= threshold) {
    streakBonus = skill.expRules.streakBonus.bonus
}
    â”‚
    â†“
[æ‡‰ç”¨é›£åº¦å€ç‡]
totalExp = (baseExp + timeBonus + accuracyBonus + streakBonus) * level.expMultiplier
    â”‚
    â†“
[æ›´æ–°è§’è‰²ç¶“é©—]
character.totalExp += totalExp
character.skillProgress[skillId].skillExp += totalExp
    â”‚
    â†“
[æª¢æŸ¥æ˜¯å¦å‡ç´š]
if (character.totalExp >= nextLevelExp) {
    levelUp()
}
    â”‚
    â†“
[å›å‚³çµæœ]
```

**å¯¦ä½œç¯„ä¾‹**:

```typescript
async function calculateExperience(
  request: GameCompleteRequest
): Promise<number> {
  // 1. è®€å–æŠ€èƒ½é…ç½®
  const skill = await getSkill(request.skillId);
  const level = skill.levels.find(l => l.id === request.levelId);
  const rules = skill.expRules;

  // 2. åŸºç¤ç¶“é©—
  let totalExp = rules.baseExp;

  // 3. æ™‚é–“åŠ æˆ
  totalExp += request.performance.playTime * rules.timeBonus;

  // 4. æ­£ç¢ºç‡åŠ æˆ
  if (rules.accuracyBonus && request.performance.accuracy) {
    if (request.performance.accuracy >= rules.accuracyBonus.threshold) {
      totalExp += rules.accuracyBonus.bonus;
    }
  }

  // 5. é€£çºŒåŠ æˆ
  const character = await getCharacter(request.characterId);
  const streak = character.skillProgress[request.skillId]?.streak || 0;

  if (rules.streakBonus && streak >= rules.streakBonus.threshold) {
    totalExp += rules.streakBonus.bonus;
  }

  // 6. æ‡‰ç”¨é›£åº¦å€ç‡
  totalExp = Math.round(totalExp * level.expMultiplier);

  return totalExp;
}
```

---

#### 5.7.3 çå‹µè¨ˆç®—æµç¨‹

**æµç¨‹åœ–**:

```
éŠæˆ²å®Œæˆ
    â”‚
    â†“
[æª¢æŸ¥éŠç©æ™‚é–“]
if (playTime < minPlayTime) {
    return 0; // ä¸ç¬¦åˆæœ€ä½æ™‚é–“
}
    â”‚
    â†“
[æª¢æŸ¥å†·å»æ™‚é–“]
if (now - lastRewardAt < cooldown) {
    return 0; // å†·å»ä¸­
}
    â”‚
    â†“
[æª¢æŸ¥æ¯æ—¥ä¸Šé™]
todayEarned = getTodayEarned(characterId);
if (todayEarned >= dailyLimit) {
    return 0; // é”åˆ°æ¯æ—¥ä¸Šé™
}
    â”‚
    â†“
[ç”Ÿæˆéš¨æ©Ÿçå‹µ]
reward = random(rewardRange[0], rewardRange[1])
    â”‚
    â†“
[æ‡‰ç”¨é›£åº¦å€ç‡]
reward = Math.round(reward * level.rewardMultiplier)
    â”‚
    â†“
[ç¢ºä¿ä¸è¶…éæ¯æ—¥ä¸Šé™]
reward = min(reward, dailyLimit - todayEarned)
    â”‚
    â†“
[ç™¼æ”¾çå‹µ]
character.rewards.available += reward
character.rewards.totalEarned += reward
character.rewards.lastRewardAt = now
    â”‚
    â†“
[è¨˜éŒ„çå‹µ]
createRewardRecord(characterId, reward, skillId)
    â”‚
    â†“
[å›å‚³çå‹µé‡‘é¡]
```

**å¯¦ä½œç¯„ä¾‹**:

```typescript
async function calculateReward(
  character: Character,
  skill: Skill,
  level: Level,
  performance: GamePerformance
): Promise<number> {
  const rules = skill.rewardRules;

  // 1. æª¢æŸ¥æœ€ä½éŠç©æ™‚é–“
  if (performance.playTime < rules.minPlayTime) {
    return 0;
  }

  // 2. æª¢æŸ¥å†·å»æ™‚é–“
  if (character.rewards.lastRewardAt) {
    const minutesSince = (Date.now() - character.rewards.lastRewardAt.toMillis()) / 60000;
    if (minutesSince < rules.cooldown) {
      return 0;
    }
  }

  // 3. æª¢æŸ¥æ¯æ—¥ä¸Šé™
  const todayEarned = await getTodayEarned(character.id);
  if (todayEarned >= rules.dailyLimit) {
    return 0;
  }

  // 4. éš¨æ©Ÿçå‹µ
  const [min, max] = rules.rewardRange;
  let reward = Math.floor(Math.random() * (max - min + 1)) + min;

  // 5. æ‡‰ç”¨é›£åº¦å€ç‡
  reward = Math.round(reward * level.rewardMultiplier);

  // 6. ä¸è¶…éæ¯æ—¥ä¸Šé™
  reward = Math.min(reward, rules.dailyLimit - todayEarned);

  return reward;
}
```

---

#### 5.7.4 äº‹ä»¶ç³»çµ±

**ç›®çš„**: è®“ç³»çµ±åœ¨é—œéµæ™‚åˆ»è§¸ç™¼äº‹ä»¶ï¼Œæ–¹ä¾¿æœªä¾†æ“´å±•ï¼ˆå¦‚æˆå°±ç³»çµ±ã€é€šçŸ¥ç³»çµ±ï¼‰ã€‚

**äº‹ä»¶é¡å‹**:

```typescript
enum GameEventType {
  GAME_START = 'game_start',
  GAME_END = 'game_end',
  LEVEL_UP = 'level_up',
  SKILL_LEVEL_UP = 'skill_level_up',
  REWARD_EARNED = 'reward_earned',
  ACHIEVEMENT_UNLOCKED = 'achievement_unlocked',
}

interface GameEvent {
  type: GameEventType;
  characterId: string;
  data: any;
  timestamp: number;
}
```

**äº‹ä»¶ç™¼å°„å™¨**:

```typescript
class GameEventEmitter {
  private listeners: Map<GameEventType, Function[]> = new Map();

  on(eventType: GameEventType, callback: Function) {
    if (!this.listeners.has(eventType)) {
      this.listeners.set(eventType, []);
    }
    this.listeners.get(eventType)!.push(callback);
  }

  emit(event: GameEvent) {
    const callbacks = this.listeners.get(event.type) || [];
    callbacks.forEach(callback => callback(event));
  }
}

// ä½¿ç”¨ç¯„ä¾‹
gameEvents.on(GameEventType.LEVEL_UP, (event) => {
  console.log(`è§’è‰² ${event.characterId} å‡ç´šåˆ° Lv ${event.data.newLevel}`);
  // ç™¼é€é€šçŸ¥ã€è§£é–æˆå°±ç­‰
});
```

---

#### 5.7.5 å¦‚ä½•è®“æœªä¾†æ–°éŠæˆ²å¥—ç”¨ç›¸åŒè¦å‰‡

**æ­¥é©Ÿ 1: åœ¨ Firestore æ–°å¢ Skill é…ç½®**

```json
{
  "id": "math-calculation",
  "name": "æ•¸å­¸é‹ç®—",
  "icon": "ğŸ§®",
  "description": "é€éæ•¸å­¸é¡Œç›®æå‡é‹ç®—èƒ½åŠ›",
  "category": "math",
  "status": "active",
  "levels": [
    {
      "id": "beginner",
      "name": "åˆç´š",
      "unlockCondition": { "characterLevel": 1 },
      "difficulty": 1,
      "expMultiplier": 1.0,
      "rewardMultiplier": 1.0
    }
  ],
  "gameConfig": {
    "type": "quiz",
    "questionCount": 10,
    "timeLimit": 60
  },
  "expRules": {
    "baseExp": 10,
    "timeBonus": 2,
    "accuracyBonus": {
      "threshold": 0.9,
      "bonus": 5
    }
  },
  "rewardRules": {
    "minPlayTime": 5,
    "rewardRange": [1, 3],
    "dailyLimit": 20,
    "cooldown": 10
  }
}
```

**æ­¥é©Ÿ 2: å‰ç«¯å¯¦ä½œéŠæˆ²é‚è¼¯**

```typescript
// éŠæˆ²çµæŸæ™‚å‘¼å«çµ±ä¸€ API
async function onGameComplete() {
  const response = await fetch('/api/game/complete', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${token}`
    },
    body: JSON.stringify({
      characterId: currentCharacter.id,
      skillId: 'math-calculation',
      levelId: 'beginner',
      performance: {
        playTime: 10,
        accuracy: 0.95,
        score: 95,
        challengeCount: 1
      },
      metadata: {
        ip: userIP,
        userAgent: navigator.userAgent,
        sessionId: sessionId,
        startTime: gameStartTime,
        endTime: Date.now()
      }
    })
  });

  const result = await response.json();
  showResultScreen(result.data.result);
}
```

**æ­¥é©Ÿ 3: ç„¡éœ€ä¿®æ”¹å¾Œç«¯**

å¾Œç«¯çš„ `/api/game/complete` ç«¯é»å·²ç¶“æ¨™æº–åŒ–ï¼Œæœƒè‡ªå‹•ï¼š
1. è®€å– Firestore ä¸­çš„ Skill é…ç½®
2. å¥—ç”¨ç¶“é©—å€¼èˆ‡çå‹µè¦å‰‡
3. æ›´æ–°è§’è‰²è³‡æ–™
4. å›å‚³çµæœ

**å„ªå‹¢**:
- âœ… æ–°å¢éŠæˆ²åªéœ€å¯«å‰ç«¯é‚è¼¯ + æ–°å¢ Firestore é…ç½®
- âœ… ç¶“é©—å€¼èˆ‡çå‹µè¨ˆç®—å®Œå…¨è‡ªå‹•åŒ–
- âœ… å¯é€é Firebase Console èª¿æ•´åƒæ•¸ï¼Œä¸éœ€é‡æ–°éƒ¨ç½²

---

### 5.8 è§’è‰²å°å¾Œå°

#### 5.8.1 å€‹äººè¨­å®šé é¢

**è·¯ç”±**: `/profile/settings`

**UI**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å€‹äººè¨­å®š                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  è§’è‰²è³‡è¨Š                                           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  è§’è‰²åç¨±:       [ç±³è±†______________]  [ä¿®æ”¹]      â”‚  â”‚
â”‚  â”‚  è™›æ“¬è²¨å¹£åç¨±:   [ç±³è±†å¹£____________]  [ä¿®æ”¹]      â”‚  â”‚
â”‚  â”‚  å¸³è™Ÿé¡å‹:       éŠæˆ²è¨»å†Š (mido2024)               â”‚  â”‚
â”‚  â”‚  è¨»å†Šæ—¥æœŸ:       2026-01-15                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å¯†ç¢¼ç®¡ç†                                           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  èˆŠå¯†ç¢¼:         [__________________]              â”‚  â”‚
â”‚  â”‚  æ–°å¯†ç¢¼:         [__________________]              â”‚  â”‚
â”‚  â”‚  ç¢ºèªæ–°å¯†ç¢¼:     [__________________]              â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚         [      ä¿®æ”¹å¯†ç¢¼      ]                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API**:

```
PATCH /api/characters/:id
Authorization: Bearer {token}
{
  "name": "æ–°åç¨±",
  "currencyName": "æ–°å¹£å"
}

POST /api/characters/:id/change-password
{
  "oldPassword": "old123",
  "newPassword": "new456"
}
```

---

#### 5.8.2 è¨“ç·´è¨˜éŒ„é é¢

**è·¯ç”±**: `/profile/training`

**UI**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¨“ç·´è¨˜éŒ„                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç¯©é¸: [æ‰€æœ‰æŠ€èƒ½ â–¾]  [æœ€è¿‘ 7 å¤© â–¾]                         â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ æ—¥æœŸ       â”‚ æŠ€èƒ½     â”‚ é›£åº¦   â”‚ æ™‚é–“ â”‚ ç¶“é©—å€¼ â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ 02/11 12:00â”‚ è‹±æ‰“ç·´ç¿’ â”‚ ä¸­ç´š   â”‚ 15   â”‚ +83   â”‚  â”‚
â”‚  â”‚ 02/10 18:30â”‚ è‹±æ‰“ç·´ç¿’ â”‚ åˆç´š   â”‚ 10   â”‚ +40   â”‚  â”‚
â”‚  â”‚ 02/09 20:00â”‚ è‹±æ‰“ç·´ç¿’ â”‚ ä¸­ç´š   â”‚ 20   â”‚ +110  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  çµ±è¨ˆæ‘˜è¦:                                                  â”‚
â”‚  - ç¸½ç·´ç¿’æ™‚é–“: 45 åˆ†é˜                                      â”‚
â”‚  - ç¸½ç²å¾—ç¶“é©—: 233 EXP                                     â”‚
â”‚  - å¹³å‡æ­£ç¢ºç‡: 91%                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è³‡æ–™ä¾†æº**: Firestore `game_sessions` collection

---

#### 5.8.3 çå‹µæ­·å²é é¢

**è·¯ç”±**: `/profile/rewards`

**UI** (å‰é¢å·²åœ¨ 5.5.3 çå‹µä¸­å¿ƒ UI å±•ç¤º)

**è³‡æ–™ä¾†æº**: Firestore `rewards` collection

---

#### 5.8.4 å…Œæ›é é¢

**è·¯ç”±**: `/profile/redeem`

**UI**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å…Œæ›çå“                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç±³è±†å¹£é¤˜é¡: 80 å…ƒ                                          â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å¯å…Œæ›çå“                                         â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚  æ–‡å…·çµ„                                   â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  éœ€è¦: 50 ç±³è±†å¹£                          â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  åŒ…å«: ç­†è¨˜æœ¬ã€é‰›ç­†ã€æ©¡çš®æ“¦              â”‚     â”‚  â”‚
â”‚  â”‚  â”‚                           [ç«‹å³å…Œæ›]     â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚  åœ–æ›¸ç¦®åˆ¸                                 â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  éœ€è¦: 100 ç±³è±†å¹£                         â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  å¯æ–¼æ›¸åº—ä½¿ç”¨                             â”‚     â”‚  â”‚
â”‚  â”‚  â”‚                           [ç«‹å³å…Œæ›]     â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚  ç©å…·                                     â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  éœ€è¦: 150 ç±³è±†å¹£                         â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  æ¨‚é«˜ç©æœ¨çµ„                               â”‚     â”‚  â”‚
â”‚  â”‚  â”‚                           é¤˜é¡ä¸è¶³        â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  æˆ‘çš„å…Œæ›è¨˜éŒ„                                       â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ æ—¥æœŸ   â”‚ é …ç›®     â”‚ é‡‘é¡  â”‚ ç‹€æ…‹                  â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ 02/05  â”‚ æ–‡å…·çµ„   â”‚ 50    â”‚ âœ… å·²å®Œæˆ (å·²å¯„å‡º)    â”‚  â”‚
â”‚  â”‚ 01/28  â”‚ åœ–æ›¸ç¦®åˆ¸ â”‚ 100   â”‚ â³ è™•ç†ä¸­            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…Œæ›æµç¨‹**:

1. ä½¿ç”¨è€…é»æ“Šã€Œç«‹å³å…Œæ›ã€
2. ç¢ºèªå°è©±æ¡†ï¼šã€Œç¢ºå®šè¦å…Œæ›æ–‡å…·çµ„å—ï¼Ÿå°‡æ‰£é™¤ 50 ç±³è±†å¹£ã€‚ã€
3. æäº¤å…Œæ›ç”³è«‹
4. æ‰£é™¤è™›æ“¬è²¨å¹£
5. å»ºç«‹å…Œæ›è¨˜éŒ„ï¼ˆç‹€æ…‹: å¾…è™•ç†ï¼‰
6. ç®¡ç†å“¡å¾Œå°è™•ç†å…Œæ›

**API**:

```
POST /api/rewards/redeem
Authorization: Bearer {token}
{
  "characterId": "char_123",
  "itemId": "item_stationery_set",
  "amount": 50
}

Response:
{
  "success": true,
  "message": "å…Œæ›ç”³è«‹å·²æäº¤ï¼Œç®¡ç†å“¡å°‡å„˜å¿«è™•ç†"
}
```

---

#### 5.8.5 è¯çµ¡ç®¡ç†å“¡é é¢

**è·¯ç”±**: `/profile/contact`

**UI**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¯çµ¡ç®¡ç†å“¡                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ç™¼é€è¨Šæ¯                                           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  ä¸»æ—¨: [_____________________________________]     â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  å…§å®¹:                                              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚  â”‚
â”‚  â”‚  â”‚                                        â”‚       â”‚  â”‚
â”‚  â”‚  â”‚                                        â”‚       â”‚  â”‚
â”‚  â”‚  â”‚                                        â”‚       â”‚  â”‚
â”‚  â”‚  â”‚                                        â”‚       â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚         [      é€å‡º      ]                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  è¨Šæ¯è¨˜éŒ„                                           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ ğŸ“© å¿˜è¨˜å¯†ç¢¼                 2026/02/10     â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ ç‹€æ…‹: âœ… å·²å›è¦†                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ æ‚¨çš„è¨Šæ¯:                                  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ æˆ‘å¿˜è¨˜å¯†ç¢¼äº†ï¼Œå¯ä»¥å¹«æˆ‘é‡è¨­å—ï¼Ÿ              â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ ç®¡ç†å“¡å›è¦† (2026/02/10 15:30):             â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ å·²ç‚ºæ‚¨é‡è¨­å¯†ç¢¼ç‚º temp1234ï¼Œè«‹ç™»å…¥å¾Œä¿®æ”¹ã€‚   â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ ğŸ“© çå“å…Œæ›                 2026/02/05     â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ ç‹€æ…‹: âœ… å·²å›è¦†                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ ...                                        â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API**:

```
POST /api/messages
Authorization: Bearer {token}
{
  "characterId": "char_123",
  "subject": "å¿˜è¨˜å¯†ç¢¼",
  "content": "æˆ‘å¿˜è¨˜å¯†ç¢¼äº†ï¼Œå¯ä»¥å¹«æˆ‘é‡è¨­å—ï¼Ÿ"
}

GET /api/messages?characterId=char_123
Response:
{
  "success": true,
  "data": [
    {
      "id": "msg_123",
      "subject": "å¿˜è¨˜å¯†ç¢¼",
      "content": "...",
      "status": "replied",
      "reply": {
        "content": "å·²ç‚ºæ‚¨é‡è¨­å¯†ç¢¼...",
        "repliedBy": "admin_001",
        "repliedAt": "2026-02-10T15:30:00Z"
      },
      "createdAt": "2026-02-10T10:00:00Z"
    }
  ]
}
```

---

### 5.9 ç®¡ç†å“¡å¾Œå°

#### 5.9.1 è§’è‰²ç®¡ç†ä»‹é¢

**è·¯ç”±**: `/admin/characters`

**UI**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è§’è‰²ç®¡ç†                                [+ æ‰‹å‹•ç™¼æ”¾çå‹µ]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æœå°‹: [____________________] [ğŸ”]                         â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ä½¿ç”¨è€…åç¨±â”‚ è§’è‰²  â”‚ ç­‰ç´š â”‚ å¸³è™Ÿé¡å‹ â”‚ æ“ä½œ        â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ mido2024  â”‚ ç±³è±†  â”‚ 15   â”‚ éŠæˆ²è¨»å†Š â”‚ [è©³æƒ…][åœç”¨]â”‚  â”‚
â”‚  â”‚ user@ex.. â”‚ æ¯›è±†  â”‚ 8    â”‚ å®Œæ•´è¨»å†Š â”‚ [è©³æƒ…][åœç”¨]â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  [ ä¸Šä¸€é  ]  1 / 10  [ ä¸‹ä¸€é  ]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è§’è‰²è©³æƒ…é é¢**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è§’è‰²è©³æƒ… - ç±³è±†                              [è¿”å›åˆ—è¡¨]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  åŸºæœ¬è³‡è¨Š                                           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  è§’è‰² ID:         char_abc123                      â”‚  â”‚
â”‚  â”‚  ä½¿ç”¨è€…åç¨±:      mido2024                         â”‚  â”‚
â”‚  â”‚  è§’è‰²åç¨±:        ç±³è±†                             â”‚  â”‚
â”‚  â”‚  è™›æ“¬è²¨å¹£åç¨±:    ç±³è±†å¹£                           â”‚  â”‚
â”‚  â”‚  å¸³è™Ÿé¡å‹:        éŠæˆ²è¨»å†Š                         â”‚  â”‚
â”‚  â”‚  ç­‰ç´š:            Lv 15 (3250/5000 EXP)           â”‚  â”‚
â”‚  â”‚  è¨»å†Šæ—¥æœŸ:        2026-01-15                       â”‚  â”‚
â”‚  â”‚  æœ€å¾Œç™»å…¥:        2026-02-11 12:00                 â”‚  â”‚
â”‚  â”‚  ç‹€æ…‹:            âœ… æ­£å¸¸                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  æŠ€èƒ½é€²åº¦                                           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  è‹±æ‰“ç·´ç¿’: Lv 8 (450/600)                          â”‚  â”‚
â”‚  â”‚  - ç·´ç¿’æ¬¡æ•¸: 25 æ¬¡                                  â”‚  â”‚
â”‚  â”‚  - ç¸½æ™‚é–“: 360 åˆ†é˜                                 â”‚  â”‚
â”‚  â”‚  - æœ€ä½³æˆç¸¾: 60 WPM, 95% æ­£ç¢ºç‡                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  çå‹µè³‡è¨Š                                           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  ç¸½ç²å¾—: 150 å…ƒ                                     â”‚  â”‚
â”‚  â”‚  å¯ç”¨é¤˜é¡: 80 å…ƒ                                    â”‚  â”‚
â”‚  â”‚  å·²å…Œæ›: 70 å…ƒ                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  [ é‡è¨­å¯†ç¢¼ ]  [ æ‰‹å‹•ç™¼æ”¾çå‹µ ]  [ åœç”¨è§’è‰² ]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é‡è¨­å¯†ç¢¼åŠŸèƒ½**:

```
POST /api/admin/characters/:id/reset-password
Authorization: Bearer {admin_token}

Response:
{
  "success": true,
  "newPassword": "temp1234",
  "message": "å¯†ç¢¼å·²é‡è¨­ç‚º temp1234ï¼Œè«‹é€šçŸ¥ä½¿ç”¨è€…"
}
```

---

#### 5.9.2 Skills ç®¡ç†ä»‹é¢

**è·¯ç”±**: `/admin/skills`

**UI**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æŠ€èƒ½ç®¡ç†                                  [+ æ–°å¢æŠ€èƒ½]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ æŠ€èƒ½åç¨±   â”‚ åˆ†é¡   â”‚ é—œå¡æ•¸ â”‚ ç‹€æ…‹   â”‚ æ“ä½œ     â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ è‹±æ‰“ç·´ç¿’   â”‚ èªè¨€   â”‚ 3      â”‚ âœ… å•Ÿç”¨ â”‚ [ç·¨è¼¯]  â”‚  â”‚
â”‚  â”‚ æ•¸å­¸é‹ç®—   â”‚ æ•¸å­¸   â”‚ 3      â”‚ ğŸš§ é–‹ç™¼ â”‚ [ç·¨è¼¯]  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ–°å¢/ç·¨è¼¯æŠ€èƒ½é é¢**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–°å¢æŠ€èƒ½                                   [å„²å­˜][å–æ¶ˆ]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  åŸºæœ¬è³‡è¨Š                                           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  æŠ€èƒ½ ID:         [english-typing_________]        â”‚  â”‚
â”‚  â”‚  æŠ€èƒ½åç¨±:        [è‹±æ‰“ç·´ç¿’_______________]        â”‚  â”‚
â”‚  â”‚  åœ–ç¤º (emoji):    [âŒ¨ï¸]                            â”‚  â”‚
â”‚  â”‚  æè¿°:            [_________________________]     â”‚  â”‚
â”‚  â”‚  åˆ†é¡:            [èªè¨€ â–¾]                         â”‚  â”‚
â”‚  â”‚  ç‹€æ…‹:            [å•Ÿç”¨ â–¾]                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  é—œå¡é…ç½®                         [+ æ–°å¢é—œå¡]      â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  åˆç´š:                                              â”‚  â”‚
â”‚  â”‚  - è§£é–æ¢ä»¶: è§’è‰² Lv 1                              â”‚  â”‚
â”‚  â”‚  - é›£åº¦: 1                                          â”‚  â”‚
â”‚  â”‚  - ç¶“é©—å€ç‡: 1.0                                    â”‚  â”‚
â”‚  â”‚  - çå‹µå€ç‡: 1.0                    [ç·¨è¼¯][åˆªé™¤]    â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  ä¸­ç´š:                                              â”‚  â”‚
â”‚  â”‚  - è§£é–æ¢ä»¶: è§’è‰² Lv 5                              â”‚  â”‚
â”‚  â”‚  - é›£åº¦: 2                                          â”‚  â”‚
â”‚  â”‚  - ç¶“é©—å€ç‡: 1.5                                    â”‚  â”‚
â”‚  â”‚  - çå‹µå€ç‡: 1.3                    [ç·¨è¼¯][åˆªé™¤]    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ç¶“é©—å€¼è¦å‰‡                                         â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  åŸºç¤ç¶“é©—:        [10_____]                        â”‚  â”‚
â”‚  â”‚  æ™‚é–“åŠ æˆ/åˆ†é˜:   [2______]                        â”‚  â”‚
â”‚  â”‚  æ­£ç¢ºç‡åŠ æˆ:                                        â”‚  â”‚
â”‚  â”‚    - é–€æª»:        [90____]%                        â”‚  â”‚
â”‚  â”‚    - çå‹µ:        [5_____]                         â”‚  â”‚
â”‚  â”‚  é€£çºŒåŠ æˆ:                                          â”‚  â”‚
â”‚  â”‚    - é€£çºŒæ¬¡æ•¸:    [3_____]                         â”‚  â”‚
â”‚  â”‚    - çå‹µ:        [10____]                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  çå‹µè¦å‰‡                                           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  æœ€å°‘éŠç©æ™‚é–“:    [10____] åˆ†é˜                    â”‚  â”‚
â”‚  â”‚  çå‹µç¯„åœ:        [1_____] ~ [5_____] å…ƒ           â”‚  â”‚
â”‚  â”‚  æ¯æ—¥ä¸Šé™:        [20____] å…ƒ                      â”‚  â”‚
â”‚  â”‚  å†·å»æ™‚é–“:        [10____] åˆ†é˜                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚         [      å„²å­˜      ]            [      å–æ¶ˆ      ]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API**:

```
POST /api/admin/skills
Authorization: Bearer {admin_token}
{
  "id": "english-typing",
  "name": "è‹±æ‰“ç·´ç¿’",
  "icon": "âŒ¨ï¸",
  "description": "...",
  "category": "language",
  "status": "active",
  "levels": [ ... ],
  "gameConfig": { ... },
  "expRules": { ... },
  "rewardRules": { ... }
}

PUT /api/admin/skills/:id
PATCH /api/admin/skills/:id/status
DELETE /api/admin/skills/:id
```

---

#### 5.9.3 è¨“ç·´è¨˜éŒ„ç®¡ç†

**è·¯ç”±**: `/admin/training`

**UI**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¨“ç·´è¨˜éŒ„ç®¡ç†                              [åŒ¯å‡º CSV]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç¯©é¸:                                                      â”‚
â”‚  è§’è‰²: [æ‰€æœ‰ â–¾]  æŠ€èƒ½: [æ‰€æœ‰ â–¾]  æ—¥æœŸ: [æœ€è¿‘ 30 å¤© â–¾]      â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ æ—¥æœŸ      â”‚ è§’è‰² â”‚ æŠ€èƒ½     â”‚ æ™‚é–“ â”‚ ç¶“é©— â”‚ IP     â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ 02/11 12:00â”‚ç±³è±† â”‚è‹±æ‰“ç·´ç¿’ â”‚ 15   â”‚ +83  â”‚1.2.3.4 â”‚  â”‚
â”‚  â”‚ 02/10 18:30â”‚æ¯›è±† â”‚è‹±æ‰“ç·´ç¿’ â”‚ 10   â”‚ +40  â”‚1.2.3.5 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  [ ä¸Šä¸€é  ]  1 / 100  [ ä¸‹ä¸€é  ]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API**:

```
GET /api/admin/game-sessions?characterId=&skillId=&from=&to=
GET /api/admin/game-sessions/export?format=csv
DELETE /api/admin/game-sessions/:id
```

---

#### 5.9.4 çå‹µèˆ‡å…Œæ›ç®¡ç†

**è·¯ç”±**: `/admin/rewards`

**UI**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  çå‹µç®¡ç†                    [æ‰‹å‹•ç™¼æ”¾çå‹µ][çå“ç®¡ç†]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ çå‹µè¨˜éŒ„ ]  [ å…Œæ›ç”³è«‹ ]  [ çå“ç®¡ç† ]                   â”‚
â”‚                                                            â”‚
â”‚  ===== å…Œæ›ç”³è«‹ =====                                       â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å¾…è™•ç† (2)                                         â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ 2026/02/10  ç±³è±†  å…Œæ›æ–‡å…·çµ„ (50 å…ƒ)      â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ ç‹€æ…‹: â³ å¾…è™•ç†                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ [æ¨™è¨˜å·²å®Œæˆ]  [æŸ¥çœ‹è§’è‰²è©³æƒ…]               â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å·²å®Œæˆ                                             â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  2026/02/05  æ¯›è±†  åœ–æ›¸ç¦®åˆ¸ (100 å…ƒ)  âœ… å·²å®Œæˆ     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ¨™è¨˜å·²å®Œæˆå°è©±æ¡†**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¨™è¨˜å…Œæ›å·²å®Œæˆ                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å…Œæ›é …ç›®: æ–‡å…·çµ„                    â”‚
â”‚  è§’è‰²: ç±³è±†                          â”‚
â”‚  é‡‘é¡: 50 å…ƒ                         â”‚
â”‚                                     â”‚
â”‚  å‚™è¨» (é¸å¡«):                        â”‚
â”‚  [å·²æ–¼ 2/11 å¯„å‡ºï¼Œå®…é…å–®è™Ÿ 123456] â”‚
â”‚                                     â”‚
â”‚         [ç¢ºå®š]    [å–æ¶ˆ]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ‰‹å‹•ç™¼æ”¾çå‹µ**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ‰‹å‹•ç™¼æ”¾çå‹µ                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é¸æ“‡è§’è‰²: [ç±³è±† â–¾]                  â”‚
â”‚  é‡‘é¡:     [____] å…ƒ                 â”‚
â”‚  åŸå› :     [æ´»å‹•çå‹µ___________]    â”‚
â”‚                                     â”‚
â”‚         [ç™¼æ”¾]    [å–æ¶ˆ]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API**:

```
GET /api/admin/redemptions?status=pending
PATCH /api/admin/redemptions/:id/complete
{
  "note": "å·²æ–¼ 2/11 å¯„å‡ºï¼Œå®…é…å–®è™Ÿ 123456"
}

POST /api/admin/rewards/manual
{
  "characterId": "char_123",
  "amount": 10,
  "reason": "æ´»å‹•çå‹µ"
}
```

---

#### 5.9.5 è¨Šæ¯ç®¡ç†

**è·¯ç”±**: `/admin/messages`

**UI**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¨Šæ¯ç®¡ç†                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ æœªè®€ (3) ]  [ å·²è®€ ]  [ å·²å›è¦† ]                         â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ ğŸ“© æœªè®€  2026/02/11 10:00  ç±³è±†            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ ä¸»æ—¨: å¿˜è¨˜å¯†ç¢¼                             â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ å…§å®¹:                                      â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ æˆ‘å¿˜è¨˜å¯†ç¢¼äº†ï¼Œå¯ä»¥å¹«æˆ‘é‡è¨­å—ï¼Ÿ              â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ [å›è¦†]  [æ¨™è¨˜å·²è®€]                         â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å›è¦†å°è©±æ¡†**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å›è¦†è¨Šæ¯                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ”¶ä»¶äºº: ç±³è±†                                â”‚
â”‚  ä¸»æ—¨: Re: å¿˜è¨˜å¯†ç¢¼                          â”‚
â”‚                                             â”‚
â”‚  å›è¦†å…§å®¹:                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚å·²ç‚ºæ‚¨é‡è¨­å¯†ç¢¼ç‚º temp1234ï¼Œ      â”‚     â”‚
â”‚  â”‚è«‹ç™»å…¥å¾Œç«‹å³ä¿®æ”¹å¯†ç¢¼ã€‚            â”‚     â”‚
â”‚  â”‚                                  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                             â”‚
â”‚         [é€å‡º]    [å–æ¶ˆ]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API**:

```
GET /api/admin/messages?status=unread
POST /api/admin/messages/:id/reply
{
  "content": "å·²ç‚ºæ‚¨é‡è¨­å¯†ç¢¼..."
}
PATCH /api/admin/messages/:id/read
```

---

## 6. API ç«¯é»åˆ—è¡¨

### 6.1 èªè­‰ API

#### 6.1.1 éŠæˆ²è¨»å†Š

```
POST /api/auth/register-simple

Request:
{
  "username": "mido2024",
  "password": "pass1234",
  "characterName": "ç±³è±†",
  "currencyName": "ç±³è±†å¹£" // é¸å¡«ï¼Œé è¨­ã€Œç±³è±†å¹£ã€
}

Response (200):
{
  "success": true,
  "data": {
    "token": "jwt_token_here",
    "character": {
      "id": "char_abc123",
      "name": "ç±³è±†",
      "level": 1,
      "totalExp": 0,
      ...
    }
  }
}

Errors:
- 400: ä½¿ç”¨è€…åç¨±å·²å­˜åœ¨
- 400: å¯†ç¢¼æ ¼å¼ä¸ç¬¦
- 429: è¨»å†Šæ¬¡æ•¸è¶…éé™åˆ¶ï¼ˆå–®æ—¥ 3 æ¬¡ï¼‰
```

---

#### 6.1.2 å®Œæ•´è¨»å†Š

```
POST /api/auth/register-full

Request:
{
  "email": "user@example.com",
  "password": "password123",
  "characterName": "ç±³è±†"
}

Response (200):
{
  "success": true,
  "data": {
    "token": "jwt_token_here",
    "user": {
      "uid": "firebase_uid",
      "email": "user@example.com"
    },
    "character": { ... }
  }
}

Errors:
- 400: Email å·²å­˜åœ¨
- 400: å¯†ç¢¼å¼·åº¦ä¸è¶³
```

---

#### 6.1.3 ç™»å…¥

```
POST /api/auth/login

Request:
{
  "identifier": "mido2024", // username æˆ– email
  "password": "pass1234"
}

Response (200):
{
  "success": true,
  "data": {
    "token": "jwt_token_here",
    "characters": [
      {
        "id": "char_abc123",
        "name": "ç±³è±†",
        "level": 15,
        ...
      },
      {
        "id": "char_def456",
        "name": "æ¯›è±†",
        "level": 8,
        ...
      }
    ]
  }
}

Errors:
- 401: å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤
- 403: å¸³è™Ÿå·²åœç”¨
```

---

### 6.2 è§’è‰² API

#### 6.2.1 å»ºç«‹è§’è‰²

```
POST /api/characters
Authorization: Bearer {token}

Request:
{
  "name": "æ¯›è±†",
  "currencyName": "æ¯›è±†å¹£"
}

Response (200):
{
  "success": true,
  "data": {
    "id": "char_def456",
    "name": "æ¯›è±†",
    "currencyName": "æ¯›è±†å¹£",
    "level": 1,
    ...
  }
}

Errors:
- 400: è§’è‰²æ•¸é‡å·²é”ä¸Šé™ï¼ˆ5 å€‹ï¼‰
- 401: æœªç™»å…¥
```

---

#### 6.2.2 å–å¾—è§’è‰²åˆ—è¡¨

```
GET /api/characters
Authorization: Bearer {token}

Response (200):
{
  "success": true,
  "data": [
    {
      "id": "char_abc123",
      "name": "ç±³è±†",
      "level": 15,
      "totalExp": 3250,
      ...
    }
  ]
}
```

---

#### 6.2.3 å–å¾—è§’è‰²è©³æƒ…

```
GET /api/characters/:id
Authorization: Bearer {token}

Response (200):
{
  "success": true,
  "data": {
    "id": "char_abc123",
    "name": "ç±³è±†",
    "level": 15,
    "totalExp": 3250,
    "skillProgress": {
      "english-typing": {
        "skillLevel": 8,
        "skillExp": 450,
        ...
      }
    },
    "rewards": {
      "totalEarned": 150,
      "available": 80,
      "redeemed": 70
    },
    ...
  }
}

Errors:
- 403: ç„¡æ¬Šé™æŸ¥çœ‹æ­¤è§’è‰²
- 404: è§’è‰²ä¸å­˜åœ¨
```

---

#### 6.2.4 æ›´æ–°è§’è‰²è³‡è¨Š

```
PATCH /api/characters/:id
Authorization: Bearer {token}

Request:
{
  "name": "æ–°ç±³è±†",
  "currencyName": "æ–°ç±³è±†å¹£"
}

Response (200):
{
  "success": true,
  "data": {
    "id": "char_abc123",
    "name": "æ–°ç±³è±†",
    "currencyName": "æ–°ç±³è±†å¹£",
    ...
  }
}

Errors:
- 403: ç„¡æ¬Šé™ä¿®æ”¹æ­¤è§’è‰²
```

---

#### 6.2.5 ä¿®æ”¹å¯†ç¢¼

```
POST /api/characters/:id/change-password
Authorization: Bearer {token}

Request:
{
  "oldPassword": "old123",
  "newPassword": "new456"
}

Response (200):
{
  "success": true,
  "message": "å¯†ç¢¼ä¿®æ”¹æˆåŠŸ"
}

Errors:
- 400: èˆŠå¯†ç¢¼éŒ¯èª¤
- 400: æ–°å¯†ç¢¼æ ¼å¼ä¸ç¬¦
```

---

### 6.3 éŠæˆ² API

#### 6.3.1 éŠæˆ²å®Œæˆï¼ˆæ ¸å¿ƒ APIï¼‰

```
POST /api/game/complete
Authorization: Bearer {token}

Request:
{
  "characterId": "char_abc123",
  "skillId": "english-typing",
  "levelId": "intermediate",
  "performance": {
    "playTime": 15,
    "accuracy": 0.92,
    "wpm": 58,
    "challengeCount": 1
  },
  "metadata": {
    "ip": "1.2.3.4",
    "userAgent": "Mozilla/5.0...",
    "sessionId": "sess_123456",
    "startTime": 1707649200000,
    "endTime": 1707650100000
  }
}

Response (200):
{
  "success": true,
  "data": {
    "result": {
      "expGained": 83,
      "levelUp": false,
      "newLevel": 15,
      "newExp": 3333,
      "rewardEarned": 3,
      "achievements": [],
      "message": "ç²å¾— 83 ç¶“é©—å€¼ï¼æ­£ç¢ºç‡ 92%ï¼Œè¡¨ç¾å„ªç§€ï¼"
    }
  }
}

Errors:
- 400: éŠæˆ²æ™‚é–“é©—è­‰å¤±æ•—ï¼ˆå¯èƒ½ä½œå¼Šï¼‰
- 403: ç„¡æ¬Šé™ç‚ºæ­¤è§’è‰²æäº¤éŠæˆ²
- 404: æŠ€èƒ½æˆ–é—œå¡ä¸å­˜åœ¨
```

---

#### 6.3.2 å–å¾—è¨“ç·´è¨˜éŒ„

```
GET /api/game-sessions?characterId=char_abc123&skillId=english-typing&limit=20
Authorization: Bearer {token}

Response (200):
{
  "success": true,
  "data": [
    {
      "id": "session_xyz789",
      "skillId": "english-typing",
      "levelId": "intermediate",
      "performance": {
        "playTime": 15,
        "accuracy": 0.92,
        "wpm": 58
      },
      "result": {
        "expGained": 83,
        "rewardEarned": 3
      },
      "createdAt": "2026-02-11T12:00:00Z"
    }
  ]
}
```

---

### 6.4 çå‹µ API

#### 6.4.1 å–å¾—çå‹µè¨˜éŒ„

```
GET /api/rewards?characterId=char_abc123&limit=50
Authorization: Bearer {token}

Response (200):
{
  "success": true,
  "data": [
    {
      "id": "reward_123",
      "type": "play_time",
      "amount": 3,
      "source": "english-typing",
      "description": "ç·´ç¿’ 15 åˆ†é˜çå‹µ",
      "createdAt": "2026-02-11T12:00:00Z"
    }
  ]
}
```

---

#### 6.4.2 å…Œæ›çå“

```
POST /api/rewards/redeem
Authorization: Bearer {token}

Request:
{
  "characterId": "char_abc123",
  "itemId": "item_stationery_set",
  "amount": 50
}

Response (200):
{
  "success": true,
  "message": "å…Œæ›ç”³è«‹å·²æäº¤ï¼Œç®¡ç†å“¡å°‡å„˜å¿«è™•ç†"
}

Errors:
- 400: é¤˜é¡ä¸è¶³
- 404: çå“ä¸å­˜åœ¨
```

---

#### 6.4.3 å–å¾—å…Œæ›è¨˜éŒ„

```
GET /api/redemptions?characterId=char_abc123
Authorization: Bearer {token}

Response (200):
{
  "success": true,
  "data": [
    {
      "id": "redemption_123",
      "itemName": "æ–‡å…·çµ„",
      "amount": 50,
      "status": "completed",
      "note": "å·²æ–¼ 2/11 å¯„å‡º",
      "createdAt": "2026-02-05T10:00:00Z",
      "completedAt": "2026-02-06T15:00:00Z"
    }
  ]
}
```

---

### 6.5 ç®¡ç†å“¡ API

#### 6.5.1 è§’è‰²ç®¡ç†

```
GET /api/admin/characters?search=&page=1&limit=20
Authorization: Bearer {admin_token}

POST /api/admin/characters/:id/reset-password
Authorization: Bearer {admin_token}

Response:
{
  "success": true,
  "data": {
    "newPassword": "temp1234"
  }
}

PATCH /api/admin/characters/:id/suspend
PATCH /api/admin/characters/:id/activate
```

---

#### 6.5.2 Skills ç®¡ç†

```
GET /api/admin/skills
POST /api/admin/skills
PUT /api/admin/skills/:id
PATCH /api/admin/skills/:id/status
DELETE /api/admin/skills/:id
```

---

#### 6.5.3 çå‹µç®¡ç†

```
POST /api/admin/rewards/manual
{
  "characterId": "char_123",
  "amount": 10,
  "reason": "æ´»å‹•çå‹µ"
}

GET /api/admin/redemptions?status=pending
PATCH /api/admin/redemptions/:id/complete
{
  "note": "å·²æ–¼ 2/11 å¯„å‡º"
}
```

---

#### 6.5.4 è¨Šæ¯ç®¡ç†

```
GET /api/admin/messages?status=unread
POST /api/admin/messages/:id/reply
{
  "content": "å›è¦†å…§å®¹..."
}
PATCH /api/admin/messages/:id/read
```

---

## 7. RWD èˆ‡ iPad æ”¯æ´è¨­è¨ˆ

### 7.1 éŸ¿æ‡‰å¼æ–·é»

```css
/* Tailwind CSS é è¨­æ–·é» */
sm: 640px   /* Mobile Landscape */
md: 768px   /* Tablet */
lg: 1024px  /* Desktop */
xl: 1280px  /* Large Desktop */
2xl: 1536px /* Extra Large Desktop */

/* æœ¬å°ˆæ¡ˆä½¿ç”¨çš„æ–·é» */
mobile: 0-767px
tablet: 768-1023px (iPad)
desktop: 1024px+
```

---

### 7.2 Desktop ç‰ˆæœ¬è¨­è¨ˆï¼ˆ1024px+ï¼‰

**æŠ€èƒ½æ‘é¦–é **:
- å·¦å´å´é‚Šæ¬„ï¼šè§’è‰²è³‡è¨Šã€å°èˆªé¸å–®
- å³å´ä¸»å€åŸŸï¼šæŠ€èƒ½å¡ç‰‡ï¼ˆ3 æ¬„å¼ç¶²æ ¼ï¼‰
- é ‚éƒ¨å°èˆªï¼šè§’è‰²é¸æ“‡ã€çå‹µé¤˜é¡ã€è¨­å®š

**éŠæˆ²ä»‹é¢**:
- ç½®ä¸­å¸ƒå±€ï¼Œæœ€å¤§å¯¬åº¦ 800px
- è¼¸å…¥æ¡†ä½¿ç”¨å¯¦é«”éµç›¤

---

### 7.3 iPad ç‰ˆæœ¬å„ªåŒ–ï¼ˆ768-1023pxï¼‰

**æŠ€èƒ½æ‘é¦–é **:
- å´é‚Šæ¬„æ”¹ç‚ºé ‚éƒ¨å°èˆª
- æŠ€èƒ½å¡ç‰‡æ”¹ç‚º 2 æ¬„ç¶²æ ¼
- å­—é«”èˆ‡æŒ‰éˆ•æ”¾å¤§ï¼ˆé©åˆè§¸æ§ï¼‰

**éŠæˆ²ä»‹é¢**:
- æœ€å¤§å¯¬åº¦ 700px
- è™›æ“¬éµç›¤æœƒä½”æ“šä¸‹æ–¹ç©ºé–“ï¼Œéœ€è¦èª¿æ•´å¸ƒå±€
- è¼¸å…¥æ¡†æ”¾å¤§ï¼Œå­—é«” 18px+

**è§¸æ§å„ªåŒ–**:
```css
/* æŒ‰éˆ•æœ€å°å°ºå¯¸ */
.button {
  min-height: 44px; /* Apple å»ºè­°çš„æœ€å°è§¸æ§å°ºå¯¸ */
  padding: 12px 24px;
}

/* é¿å…é»æ“Šå»¶é² */
* {
  touch-action: manipulation;
}
```

---

### 7.4 Mobile ç‰ˆæœ¬é©é…ï¼ˆ< 768pxï¼‰

**æŠ€èƒ½æ‘é¦–é **:
- å–®æ¬„å¸ƒå±€
- æ¼¢å ¡é¸å–®
- æŠ€èƒ½å¡ç‰‡æ”¹ç‚ºåˆ—è¡¨å½¢å¼

**éŠæˆ²ä»‹é¢**:
- å…¨è¢å¹•å¸ƒå±€
- è™›æ“¬éµç›¤ä½”æ“š 50% è¢å¹•
- ç›®æ¨™æ–‡å­—èˆ‡è¼¸å…¥æ¡†å‚ç›´æ’åˆ—

---

### 7.5 è™›æ“¬éµç›¤è¨­è¨ˆï¼ˆiPad è‹±æ‰“ç·´ç¿’ï¼‰

**å•é¡Œ**: iPad ä½¿ç”¨è™›æ“¬éµç›¤æ™‚ï¼Œé›£ä»¥ç·´ç¿’ç›²æ‰“

**è§£æ±ºæ–¹æ¡ˆ 1: ä½¿ç”¨åŸç”Ÿéµç›¤**

```typescript
// è‡ªå‹•å½ˆå‡ºè™›æ“¬éµç›¤
inputRef.current?.focus();

// åµæ¸¬éµç›¤äº‹ä»¶
inputRef.current?.addEventListener('keydown', (e) => {
  // è¨˜éŒ„æŒ‰éµ
});
```

**è§£æ±ºæ–¹æ¡ˆ 2: è‡ªè¨‚è™›æ“¬éµç›¤ï¼ˆé€²éšï¼‰**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  The quick brown fox                   â”‚
â”‚  [The quick brown fo_____________]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è‡ªè¨‚è™›æ“¬éµç›¤ï¼ˆQWERTY å¸ƒå±€ï¼‰            â”‚
â”‚  [Q][W][E][R][T][Y][U][I][O][P]        â”‚
â”‚   [A][S][D][F][G][H][J][K][L]         â”‚
â”‚    [Z][X][C][V][B][N][M]              â”‚
â”‚         [      Space      ]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- æŒ‰éµé«˜äº®é¡¯ç¤ºä½¿ç”¨è€…æ‡‰æŒ‰çš„éµ
- è¨˜éŒ„æŒ‰éµæ­£ç¢ºç‡

**å¯¦ä½œå»ºè­°**:
- Phase 1: ä½¿ç”¨åŸç”Ÿéµç›¤ï¼ˆç°¡å–®ï¼‰
- Phase 2: è‡ªè¨‚éµç›¤ï¼ˆæå‡å­¸ç¿’æ•ˆæœï¼‰

---

### 7.6 RWD æ¸¬è©¦æª¢æŸ¥æ¸…å–®

- [ ] Desktop (1920x1080): æŠ€èƒ½æ‘ã€éŠæˆ²ä»‹é¢ã€å¾Œå°
- [ ] Laptop (1366x768): ç¢ºä¿ä¸æœƒæ©«å‘æ»¾å‹•
- [ ] iPad (1024x768): è§¸æ§æŒ‰éˆ•å°ºå¯¸ã€è™›æ“¬éµç›¤
- [ ] iPad Mini (768x1024): ç›´å‘æ¨¡å¼
- [ ] Mobile (375x667): å–®æ¬„å¸ƒå±€ã€æ¼¢å ¡é¸å–®
- [ ] Mobile Landscape (667x375): éŠæˆ²ä»‹é¢é©é…

---

## 8. å‰å°èªªæ˜æ–‡ä»¶å¤§ç¶±

### 8.1 æŠ€èƒ½æ‘ä»‹ç´¹

**æ¨™é¡Œ**: æ­¡è¿ä¾†åˆ°æŠ€èƒ½æ‘ï¼

**å…§å®¹**:
```
æŠ€èƒ½æ‘æ˜¯ä¸€å€‹éŠæˆ²åŒ–å­¸ç¿’å¹³å°ï¼Œé€éæœ‰è¶£çš„æŒ‘æˆ°å¹«åŠ©ä½ æå‡å„ç¨®æŠ€èƒ½ï¼

ğŸ® éŠç©æŠ€èƒ½éŠæˆ²ï¼Œç²å¾—ç¶“é©—å€¼
ğŸ“ˆ å‡ç´šä½ çš„è§’è‰²ï¼Œè§£é–æ–°é—œå¡
ğŸ’° è³ºå–è™›æ“¬è²¨å¹£ï¼Œå…Œæ›å¯¦é«”çå“
ğŸ† é”æˆæˆå°±ï¼Œæˆç‚ºå‚³å¥‡å­¸è€…ï¼

å¾å°ä¸€åˆ°é«˜ä¸­ï¼ŒæŠ€èƒ½æ‘éƒ½æœƒé™ªä¼´ä½ æˆé•·ï¼
```

---

### 8.2 å¦‚ä½•è¨»å†Šèˆ‡å»ºç«‹è§’è‰²

**å¿«é€Ÿè¨»å†Šï¼ˆå°æœ‹å‹é©ç”¨ï¼‰**:
```
1. é»æ“Šã€Œè¨»å†Šã€æŒ‰éˆ•
2. è¼¸å…¥ä½¿ç”¨è€…åç¨±ï¼ˆä¾‹å¦‚ï¼šmido2024ï¼‰
3. è¨­å®šå¯†ç¢¼ï¼ˆ4-8 å€‹å­—å…ƒï¼‰
4. è¼¸å…¥è§’è‰²åç¨±ï¼ˆä¾‹å¦‚ï¼šç±³è±†ï¼‰
5. é–‹å§‹ç©ï¼

âš ï¸ è«‹è¨˜ä½ä½ çš„ä½¿ç”¨è€…åç¨±å’Œå¯†ç¢¼ï¼Œå¦‚æœå¿˜è¨˜å¯ä»¥è¯çµ¡ç®¡ç†å“¡
```

**å®Œæ•´è¨»å†Šï¼ˆå®¶é•·é©ç”¨ï¼‰**:
```
1. ä½¿ç”¨ Email è¨»å†Š
2. å¯ä»¥ç‚ºæ¯å€‹å­å¥³å»ºç«‹ä¸åŒçš„è§’è‰²
3. æ¯å€‹å¸³è™Ÿæœ€å¤šå¯ä»¥å»ºç«‹ 5 å€‹è§’è‰²
```

---

### 8.3 å¦‚ä½•é¸æ“‡è§’è‰²èˆ‡è‡ªè¨‚è™›æ“¬è²¨å¹£åç¨±

```
å»ºç«‹è§’è‰²æ™‚ï¼Œä½ å¯ä»¥ï¼š
- å–ä¸€å€‹å–œæ­¡çš„è§’è‰²åç¨±ï¼ˆä¾‹å¦‚ï¼šç±³è±†ã€æ¯›è±†ã€å°æ˜ï¼‰
- è‡ªè¨‚è™›æ“¬è²¨å¹£åç¨±ï¼ˆä¾‹å¦‚ï¼šç±³è±†å¹£ã€æ˜Ÿæ˜Ÿå¹£ã€å¿«æ¨‚å¹£ï¼‰

æ¯å€‹è§’è‰²éƒ½æœ‰ç¨ç«‹çš„ç­‰ç´šå’Œé€²åº¦ï¼Œå¯ä»¥å’Œå…„å¼Ÿå§å¦¹ä¸€èµ·æ¯”è³½ï¼
```

---

### 8.4 å¦‚ä½•ç²å¾—ç¶“é©—èˆ‡å‡ç´š

**ç²å¾—ç¶“é©—çš„æ–¹å¼**:
```
1. å®ŒæˆæŠ€èƒ½éŠæˆ²
   - éŠç©æ™‚é–“è¶Šé•·ï¼Œç¶“é©—è¶Šå¤š
   - æ­£ç¢ºç‡è¶Šé«˜ï¼Œé¡å¤–ç¶“é©—è¶Šå¤š
   - é€£çºŒå®ŒæˆæŒ‘æˆ°ï¼Œç²å¾—é€£çºŒåŠ æˆ

2. é¸æ“‡æ›´é«˜é›£åº¦
   - åˆç´šé—œå¡ï¼šç¶“é©— x1.0
   - ä¸­ç´šé—œå¡ï¼šç¶“é©— x1.5
   - é«˜ç´šé—œå¡ï¼šç¶“é©— x2.0

âš ï¸ æ³¨æ„ï¼šå¦‚æœ 5 åˆ†é˜æ²’æœ‰æ“ä½œï¼ŒéŠæˆ²æœƒçµæŸä¸”ä¸è¨ˆå…¥ç¶“é©—ï¼
```

**å‡ç´šçå‹µ**:
```
æ¯æ¬¡å‡ç´šéƒ½æœƒç²å¾—ï¼š
- è™›æ“¬è²¨å¹£çå‹µ
- è§£é–æ–°çš„é—œå¡æˆ–æŠ€èƒ½
- ç‰¹æ®Šç¨±è™Ÿï¼ˆLv 100, 300, 500, 1000ï¼‰
```

---

### 8.5 ç­‰ç´šç³»çµ±èªªæ˜ï¼ˆLv 1-1000ï¼‰

**ç­‰ç´šéšæ®µ**:

```
ğŸŒ± æ–°æ‰‹æœŸ (Lv 1-50)
é©åˆï¼šå°ä¸€åˆ°å°äºŒ
å‡ç´šé€Ÿåº¦ï¼šå¿«
ç›®æ¨™ï¼šç†Ÿæ‚‰æŠ€èƒ½æ‘ï¼Œå»ºç«‹å­¸ç¿’ç¿’æ…£

ğŸŒ¿ æˆé•·æœŸ (Lv 51-200)
é©åˆï¼šå°ä¸‰åˆ°å°å…­
å‡ç´šé€Ÿåº¦ï¼šä¸­
ç›®æ¨™ï¼šç©©å®šå­¸ç¿’ï¼Œæå‡å„é …æŠ€èƒ½

ğŸŒ³ ç©©å®šæœŸ (Lv 201-500)
é©åˆï¼šåœ‹ä¸­
å‡ç´šé€Ÿåº¦ï¼šç©©å®š
ç›®æ¨™ï¼šæ·±åŒ–æŠ€èƒ½ï¼ŒæŒ‘æˆ°é«˜ç´šé—œå¡

ğŸ”ï¸ å¤§å¸«æœŸ (Lv 501-1000)
é©åˆï¼šé«˜ä¸­
å‡ç´šé€Ÿåº¦ï¼šæ…¢
ç›®æ¨™ï¼šæˆç‚ºå‚³å¥‡å­¸è€…ï¼Œå®Œæˆæ‰€æœ‰æŒ‘æˆ°
```

**é‡Œç¨‹ç¢‘**:
```
Lv 50:  å­¸ç¿’æ–°æ‰‹ ğŸ“
Lv 100: å‹¤å¥®å­¸è€… ğŸ“š
Lv 300: æŠ€èƒ½å¤§å¸« â­
Lv 500: å‚³èªªå­¸è€… ğŸ”¥
Lv 1000: å‚³å¥‡å­¸è€… ğŸ‘‘
```

---

### 8.6 å¦‚ä½•ç²å¾—çå‹µèˆ‡å…Œæ›

**ç²å¾—çå‹µ**:
```
1. ç·´ç¿’è‡³å°‘ 10 åˆ†é˜ï¼Œéš¨æ©Ÿç²å¾— 1-5 å…ƒè™›æ“¬è²¨å¹£
2. æ¯æ¬¡ç·´ç¿’åªèƒ½ç²å¾—ä¸€æ¬¡çå‹µ
3. æ¯å¤©æœ€å¤šç²å¾— 20 å…ƒ
4. çå‹µå†·å»æ™‚é–“ï¼š10 åˆ†é˜
```

**å…Œæ›çå“**:
```
1. å‰å¾€ã€Œçå‹µä¸­å¿ƒã€
2. æŸ¥çœ‹å¯å…Œæ›çš„çå“
3. ç¢ºèªé¤˜é¡è¶³å¤ å¾Œï¼Œé»æ“Šã€Œç«‹å³å…Œæ›ã€
4. æäº¤å…Œæ›ç”³è«‹
5. ç®¡ç†å“¡è™•ç†å¾Œæœƒé€šçŸ¥ä½ ï¼ˆé€šå¸¸ 3-5 å¤©ï¼‰

å¯å…Œæ›çš„çå“ï¼š
- æ–‡å…·çµ„ (50 å…ƒ)
- åœ–æ›¸ç¦®åˆ¸ (100 å…ƒ)
- ç©å…· (150 å…ƒ)
- æ›´å¤šçå“æŒçºŒæ›´æ–°ä¸­...
```

---

### 8.7 FAQ

**Q: å¿˜è¨˜å¯†ç¢¼æ€éº¼è¾¦ï¼Ÿ**
```
A: è«‹å‰å¾€ã€Œå€‹äººè¨­å®šã€â†’ã€Œè¯çµ¡ç®¡ç†å“¡ã€ï¼Œ
   å¡«å¯«ä¸»æ—¨ã€Œå¿˜è¨˜å¯†ç¢¼ã€ï¼Œç®¡ç†å“¡æœƒå¹«ä½ é‡è¨­ã€‚
```

**Q: å¯ä»¥æ›´æ”¹è§’è‰²åç¨±å—ï¼Ÿ**
```
A: å¯ä»¥ï¼å‰å¾€ã€Œå€‹äººè¨­å®šã€â†’ã€Œè§’è‰²è³‡è¨Šã€ï¼Œ
   é»æ“Šã€Œä¿®æ”¹ã€å³å¯æ›´æ”¹è§’è‰²åç¨±æˆ–è™›æ“¬è²¨å¹£åç¨±ã€‚
```

**Q: ç‚ºä»€éº¼æˆ‘æ²’æœ‰ç²å¾—çå‹µï¼Ÿ**
```
A: è«‹æª¢æŸ¥ï¼š
   1. æ˜¯å¦ç·´ç¿’è‡³å°‘ 10 åˆ†é˜ï¼Ÿ
   2. æ˜¯å¦åœ¨å†·å»æ™‚é–“å…§ï¼ˆ10 åˆ†é˜ï¼‰ï¼Ÿ
   3. æ˜¯å¦é”åˆ°æ¯æ—¥ä¸Šé™ï¼ˆ20 å…ƒï¼‰ï¼Ÿ
```

**Q: å‡ç´šéœ€è¦å¤šä¹…æ™‚é–“ï¼Ÿ**
```
A: å–æ±ºæ–¼ä½ çš„ç·´ç¿’é »ç‡èˆ‡æ™‚é–“ï¼š
   - æ¯å¤©ç·´ç¿’ 30 åˆ†é˜ï¼Œç´„ 1 é€±å‡ 1 ç´š (åˆæœŸ)
   - éš¨è‘—ç­‰ç´šæå‡ï¼Œå‡ç´šæ‰€éœ€æ™‚é–“æœƒå¢åŠ 
   - Lv 1 â†’ Lv 100 ç´„éœ€ 3-6 å€‹æœˆ
```

**Q: å¯ä»¥å’Œæœ‹å‹æ¯”è¼ƒé€²åº¦å—ï¼Ÿ**
```
A: ç›®å‰æš«ä¸æ”¯æ´æ’è¡Œæ¦œåŠŸèƒ½ï¼Œ
   ä½†æœªä¾†æœƒæ¨å‡ºç¤¾äº¤åŠŸèƒ½ï¼Œæ•¬è«‹æœŸå¾…ï¼
```

---

## 9. é–‹ç™¼æ’ç¨‹å»ºè­°

### Phase 1: åŸºç¤æ¶æ§‹èˆ‡è§’è‰²ç³»çµ±ï¼ˆ3 é€±ï¼‰

**Week 1: å¾Œç«¯åŸºç¤æ¶æ§‹**
- [ ] Firestore è³‡æ–™åº«è¨­è¨ˆèˆ‡åˆå§‹åŒ–
- [ ] NestJS å°ˆæ¡ˆå»ºç«‹èˆ‡ Firebase Admin SDK æ•´åˆ
- [ ] èªè­‰ä¸­ä»‹å±¤ï¼ˆJWT + Firebase Authï¼‰
- [ ] åŸºç¤ API æ¡†æ¶ï¼ˆéŒ¯èª¤è™•ç†ã€å›æ‡‰æ ¼å¼ï¼‰

**Week 2: èªè­‰èˆ‡è§’è‰²ç³»çµ±**
- [ ] è¨»å†Š APIï¼ˆéŠæˆ²è¨»å†Š + å®Œæ•´è¨»å†Šï¼‰
- [ ] ç™»å…¥ API
- [ ] è§’è‰² CRUD API
- [ ] IP è¨»å†Šé™åˆ¶æ©Ÿåˆ¶

**Week 3: å‰ç«¯è§’è‰²ç³»çµ±**
- [ ] è¨»å†Š/ç™»å…¥é é¢ UI
- [ ] è§’è‰²é¸æ“‡é é¢
- [ ] è§’è‰²å»ºç«‹/ç·¨è¼¯é é¢
- [ ] æŠ€èƒ½æ‘é¦–é ï¼ˆéœæ…‹ç‰ˆæœ¬ï¼‰

---

### Phase 2: ç¶“é©—å€¼èˆ‡çå‹µç³»çµ±ï¼ˆ2 é€±ï¼‰

**Week 4: è¦å‰‡å¼•æ“**
- [ ] ç¶“é©—å€¼è¨ˆç®—é‚è¼¯
- [ ] ç­‰ç´šç³»çµ±èˆ‡ç¶“é©—å€¼å°ç…§è¡¨
- [ ] çå‹µè¨ˆç®—é‚è¼¯
- [ ] äº‹ä»¶ç³»çµ±æ¡†æ¶

**Week 5: å‰ç«¯æ•´åˆ**
- [ ] æŠ€èƒ½æ‘é¦–é ï¼ˆå‹•æ…‹è³‡æ–™ï¼‰
- [ ] è§’è‰²è³‡è¨Šå¡ç‰‡ï¼ˆç­‰ç´šã€ç¶“é©—ã€è²¨å¹£ï¼‰
- [ ] å‡ç´šé€šçŸ¥ UI
- [ ] çå‹µä¸­å¿ƒé é¢

---

### Phase 3: è‹±æ‰“ç·´ç¿’éŠæˆ²ï¼ˆ3 é€±ï¼‰

**Week 6: Skills é…ç½®èˆ‡å¾Œç«¯ API**
- [ ] åœ¨ Firestore æ–°å¢ `english-typing` Skill é…ç½®
- [ ] éŠæˆ²å®Œæˆ API (`/api/game/complete`)
- [ ] è¨“ç·´è¨˜éŒ„ API
- [ ] çå‹µè¨˜éŒ„ API

**Week 7-8: å‰ç«¯éŠæˆ²ä»‹é¢**
- [ ] é›£åº¦é¸æ“‡é é¢
- [ ] éŠæˆ²ä¸»ä»‹é¢ï¼ˆDesktop ç‰ˆæœ¬ï¼‰
- [ ] è¨ˆæ™‚å™¨èˆ‡è¨ˆåˆ†é‚è¼¯
- [ ] é–’ç½®åµæ¸¬æ©Ÿåˆ¶
- [ ] éŠæˆ²çµæŸç•«é¢ï¼ˆæˆç¸¾å ±å‘Š + çå‹µï¼‰
- [ ] iPad ç‰ˆæœ¬å„ªåŒ–ï¼ˆè™›æ“¬éµç›¤ï¼‰

---

### Phase 4: è§’è‰²å°å¾Œå°ï¼ˆ1.5 é€±ï¼‰

**Week 9: å‰ç«¯å°å¾Œå°**
- [ ] å€‹äººè¨­å®šé é¢
- [ ] è¨“ç·´è¨˜éŒ„é é¢
- [ ] çå‹µæ­·å²é é¢
- [ ] å…Œæ›é é¢
- [ ] è¯çµ¡ç®¡ç†å“¡é é¢

**å¾Œç«¯ API**:
- [ ] ä¿®æ”¹è§’è‰²è³‡è¨Š API
- [ ] ä¿®æ”¹å¯†ç¢¼ API
- [ ] å…Œæ›ç”³è«‹ API
- [ ] è¨Šæ¯æäº¤ API

---

### Phase 5: ç®¡ç†å“¡å¾Œå°ï¼ˆ2 é€±ï¼‰

**Week 10: è§’è‰²èˆ‡ Skills ç®¡ç†**
- [ ] è§’è‰²ç®¡ç†ä»‹é¢
- [ ] è§’è‰²è©³æƒ…é é¢
- [ ] é‡è¨­å¯†ç¢¼åŠŸèƒ½
- [ ] Skills ç®¡ç†ä»‹é¢
- [ ] Skills æ–°å¢/ç·¨è¼¯è¡¨å–®

**Week 11: çå‹µèˆ‡è¨Šæ¯ç®¡ç†**
- [ ] è¨“ç·´è¨˜éŒ„ç®¡ç†
- [ ] çå‹µç™¼æ”¾ä»‹é¢
- [ ] å…Œæ›ç”³è«‹è™•ç†
- [ ] è¨Šæ¯ç®¡ç†èˆ‡å›è¦†

---

### Phase 6: RWD å„ªåŒ–èˆ‡æ¸¬è©¦ï¼ˆ2 é€±ï¼‰

**Week 12: RWD å„ªåŒ–**
- [ ] Desktop ç‰ˆæœ¬èª¿æ•´
- [ ] iPad ç‰ˆæœ¬å„ªåŒ–ï¼ˆè§¸æ§ã€è™›æ“¬éµç›¤ï¼‰
- [ ] Mobile ç‰ˆæœ¬é©é…
- [ ] è·¨ç€è¦½å™¨æ¸¬è©¦ï¼ˆChrome, Safari, Edgeï¼‰

**Week 13: æ¸¬è©¦èˆ‡ä¿®å¾©**
- [ ] åŠŸèƒ½æ¸¬è©¦ï¼ˆæ‰€æœ‰ User Stories é©—æ”¶ï¼‰
- [ ] æ•ˆèƒ½æ¸¬è©¦ï¼ˆAPI å›æ‡‰æ™‚é–“ã€é é¢è¼‰å…¥é€Ÿåº¦ï¼‰
- [ ] å®‰å…¨æ¸¬è©¦ï¼ˆSQL Injection, XSS, CSRFï¼‰
- [ ] Bug ä¿®å¾©

---

### Phase 7: éƒ¨ç½²èˆ‡ä¸Šç·šï¼ˆ1 é€±ï¼‰

**Week 14: éƒ¨ç½²**
- [ ] å‰ç«¯éƒ¨ç½²åˆ° Vercel
- [ ] å¾Œç«¯éƒ¨ç½²åˆ° Cloud Run
- [ ] Firestore æ­£å¼ç’°å¢ƒè¨­å®š
- [ ] Firebase Auth æ­£å¼ç’°å¢ƒè¨­å®š
- [ ] ç’°å¢ƒè®Šæ•¸è¨­å®š
- [ ] SSL æ†‘è­‰è¨­å®š

**ä¸Šç·šå‰æª¢æŸ¥æ¸…å–®**:
- [ ] æ‰€æœ‰ API ç«¯é»æ¸¬è©¦é€šé
- [ ] å‰ç«¯æ‰€æœ‰é é¢ç„¡éŒ¯èª¤
- [ ] RWD åœ¨æ‰€æœ‰è£ç½®æ­£å¸¸é‹ä½œ
- [ ] æ•ˆèƒ½é”æ¨™ï¼ˆé¦–é è¼‰å…¥ < 3 ç§’ï¼‰
- [ ] å®‰å…¨æª¢æŸ¥é€šé
- [ ] å‚™ä»½æ©Ÿåˆ¶å»ºç«‹
- [ ] ç›£æ§èˆ‡éŒ¯èª¤è¿½è¹¤è¨­å®šï¼ˆSentryï¼‰
- [ ] å‰å°èªªæ˜æ–‡ä»¶ä¸Šç·š

---

### ç¸½é–‹ç™¼æ™‚ç¨‹: 14 é€±ï¼ˆç´„ 3.5 å€‹æœˆï¼‰

**åœ˜éšŠå»ºè­°**:
- 1 ä½å…¨ç«¯å·¥ç¨‹å¸« + 1 ä½å‰ç«¯å·¥ç¨‹å¸« + 1 ä½ UI/UX è¨­è¨ˆå¸«
- æˆ– 2 ä½å…¨ç«¯å·¥ç¨‹å¸«ï¼ˆå‰å¾Œç«¯éƒ½ç†Ÿæ‚‰ï¼‰

**é¢¨éšªè©•ä¼°**:
- iPad è™›æ“¬éµç›¤å¯¦ä½œå¯èƒ½éœ€è¦é¡å¤– 1-2 é€±
- ç¬¬ä¸€æ¬¡éƒ¨ç½² Cloud Run å¯èƒ½é‡åˆ°ç’°å¢ƒå•é¡Œï¼ˆé ç•™ 1 é€±ç·©è¡ï¼‰
- RWD å„ªåŒ–é€šå¸¸æ¯”é æœŸè€—æ™‚ï¼ˆé ç•™ç·©è¡ï¼‰

**å»ºè­°**: æ¡ç”¨æ•æ·é–‹ç™¼ï¼Œæ¯ 2 é€±ä¸€å€‹ Sprintï¼Œæ¯å€‹ Sprint çµæŸæ™‚ Demo çµ¦ stakeholdersã€‚

---

## é™„éŒ„

### A. Firestore Security Rules

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Skills (æ‰€æœ‰äººå¯è®€)
    match /skills/{skillId} {
      allow read: if true;
      allow write: if request.auth != null && get(/databases/$(database)/documents/users/$(request.auth.uid)).data.isAdmin == true;
    }

    // Characters (åƒ…è‡ªå·±å¯è®€å¯«)
    match /characters/{characterId} {
      allow read: if request.auth != null && (
        resource.data.userId == request.auth.uid ||
        get(/databases/$(database)/documents/users/$(request.auth.uid)).data.isAdmin == true
      );
      allow write: if request.auth != null && resource.data.userId == request.auth.uid;
    }

    // Game Sessions (åƒ…è‡ªå·±å¯è®€)
    match /game_sessions/{sessionId} {
      allow read: if request.auth != null && (
        get(/databases/$(database)/documents/characters/$(resource.data.characterId)).data.userId == request.auth.uid ||
        get(/databases/$(database)/documents/users/$(request.auth.uid)).data.isAdmin == true
      );
      allow write: if false; // åªèƒ½é€éå¾Œç«¯ API å¯«å…¥
    }

    // Rewards (åƒ…è‡ªå·±å¯è®€)
    match /rewards/{rewardId} {
      allow read: if request.auth != null && (
        get(/databases/$(database)/documents/characters/$(resource.data.characterId)).data.userId == request.auth.uid ||
        get(/databases/$(database)/documents/users/$(request.auth.uid)).data.isAdmin == true
      );
      allow write: if false; // åªèƒ½é€éå¾Œç«¯ API å¯«å…¥
    }

    // Messages (åƒ…è‡ªå·±å¯è®€)
    match /messages/{messageId} {
      allow read: if request.auth != null && (
        get(/databases/$(database)/documents/characters/$(resource.data.characterId)).data.userId == request.auth.uid ||
        get(/databases/$(database)/documents/users/$(request.auth.uid)).data.isAdmin == true
      );
      allow create: if request.auth != null;
      allow update, delete: if false; // åªèƒ½é€éå¾Œç«¯ API æ›´æ–°
    }
  }
}
```

---

### B. ç’°å¢ƒè®Šæ•¸ç¯„æœ¬

**å‰ç«¯ `.env.local`**:

```bash
# Firebase Client SDK
NEXT_PUBLIC_FIREBASE_API_KEY=your_api_key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project_id.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project_id.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
NEXT_PUBLIC_FIREBASE_APP_ID=your_app_id

# Backend API
NEXT_PUBLIC_API_URL=http://localhost:5000

# ç’°å¢ƒ
NEXT_PUBLIC_ENV=development
```

**å¾Œç«¯ `.env`**:

```bash
# Firebase Admin SDK
FIREBASE_PROJECT_ID=your_project_id
FIREBASE_CREDENTIAL_PATH=./credentials/firebase-admin-key.json

# JWT
JWT_SECRET=your_jwt_secret
JWT_EXPIRES_IN=7d

# CORS
ALLOWED_ORIGINS=http://localhost:3000,https://your-frontend-domain.com

# Rate Limiting
RATE_LIMIT_IP_REGISTRATION=3
RATE_LIMIT_WINDOW=24h

# ç’°å¢ƒ
NODE_ENV=development
PORT=5000
```

---

### C. è³‡æ–™åº«åˆå§‹åŒ–è…³æœ¬

**åˆå§‹åŒ– Skills é…ç½®**:

```typescript
// scripts/init-skills.ts
import { initializeApp, cert } from 'firebase-admin/app';
import { getFirestore } from 'firebase-admin/firestore';

const serviceAccount = require('../credentials/firebase-admin-key.json');

initializeApp({
  credential: cert(serviceAccount)
});

const db = getFirestore();

async function initSkills() {
  const englishTypingSkill = {
    id: 'english-typing',
    name: 'è‹±æ‰“ç·´ç¿’',
    icon: 'âŒ¨ï¸',
    description: 'é€éæ‰“å­—ç·´ç¿’æå‡è‹±æ–‡èƒ½åŠ›',
    category: 'language',
    status: 'active',
    levels: [
      {
        id: 'beginner',
        name: 'åˆç´š',
        unlockCondition: { characterLevel: 1 },
        difficulty: 1,
        expMultiplier: 1.0,
        rewardMultiplier: 1.0
      },
      {
        id: 'intermediate',
        name: 'ä¸­ç´š',
        unlockCondition: { characterLevel: 5 },
        difficulty: 2,
        expMultiplier: 1.5,
        rewardMultiplier: 1.3
      },
      {
        id: 'advanced',
        name: 'é«˜ç´š',
        unlockCondition: { characterLevel: 10 },
        difficulty: 3,
        expMultiplier: 2.0,
        rewardMultiplier: 1.5
      }
    ],
    gameConfig: {
      type: 'typing',
      timeLimit: 60,
      wordSets: {
        beginner: ['cat', 'dog', 'apple', 'book', 'tree', /* ... */],
        intermediate: ['The quick brown fox jumps over the lazy dog.', /* ... */],
        advanced: ['Complete paragraph texts...', /* ... */]
      }
    },
    expRules: {
      baseExp: 10,
      timeBonus: 2,
      accuracyBonus: {
        threshold: 0.9,
        bonus: 5
      },
      streakBonus: {
        threshold: 3,
        bonus: 10
      }
    },
    rewardRules: {
      minPlayTime: 10,
      rewardRange: [1, 5],
      dailyLimit: 20,
      cooldown: 10
    },
    createdAt: new Date(),
    updatedAt: new Date()
  };

  await db.collection('skills').doc('english-typing').set(englishTypingSkill);
  console.log('âœ… English Typing skill initialized');
}

initSkills().catch(console.error);
```

**åŸ·è¡Œ**:

```bash
cd backend
ts-node scripts/init-skills.ts
```

---

## çµè«–

æœ¬è¦æ ¼æ–‡ä»¶æ¶µè“‹äº†ã€ŒæŠ€èƒ½æ‘éŠæˆ²åŒ–å­¸ç¿’ç³»çµ±ã€çš„å®Œæ•´è¨­è¨ˆï¼ŒåŒ…æ‹¬ï¼š

âœ… **å®Œæ•´çš„ä½¿ç”¨è€…æ•…äº‹èˆ‡é©—æ”¶æ¢ä»¶**
âœ… **è©³ç´°çš„è³‡æ–™æ¨¡å‹è¨­è¨ˆï¼ˆFirestore Collectionsï¼‰**
âœ… **æ¨™æº–åŒ–çš„è¦å‰‡å¼•æ“ï¼ˆæœªä¾†å¯å¿«é€Ÿæ–°å¢éŠæˆ²ï¼‰**
âœ… **å®Œæ•´çš„ API ç«¯é»åˆ—è¡¨èˆ‡éŒ¯èª¤è™•ç†**
âœ… **RWD èˆ‡ iPad æ”¯æ´è¨­è¨ˆ**
âœ… **å‰å°èªªæ˜æ–‡ä»¶ï¼ˆä½¿ç”¨è€…å‹å–„ï¼‰**
âœ… **å‹™å¯¦çš„é–‹ç™¼æ’ç¨‹ï¼ˆ14 é€±ï¼‰**

ä¸‹ä¸€æ­¥ï¼š
1. èˆ‡åœ˜éšŠ Review æœ¬è¦æ ¼æ–‡ä»¶
2. ç¢ºèªæŠ€è¡“å¯è¡Œæ€§èˆ‡æ™‚ç¨‹
3. å»ºç«‹ Jira/Azure DevOps ä»»å‹™
4. é–‹å§‹ Phase 1 é–‹ç™¼

---

**ç‰ˆæœ¬æ­·å²**:
- v1.0 (2026-02-11): åˆç‰ˆç™¼å¸ƒ
